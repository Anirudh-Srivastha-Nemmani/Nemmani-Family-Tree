<!doctype html><html lang="pl"><head><meta charset="utf-8"><title>topola-webpack</title><body><div style="margin:auto"><svg></svg></div><script>!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=144)}([function(t,n,e){"use strict";e.r(n),e.d(n,"create",(function(){return o})),e.d(n,"creator",(function(){return r.a})),e.d(n,"local",(function(){return s})),e.d(n,"matcher",(function(){return c.b})),e.d(n,"namespace",(function(){return f.a})),e.d(n,"namespaces",(function(){return h.a})),e.d(n,"pointer",(function(){return p})),e.d(n,"pointers",(function(){return g})),e.d(n,"select",(function(){return a})),e.d(n,"selectAll",(function(){return v})),e.d(n,"selection",(function(){return i.b})),e.d(n,"selector",(function(){return m.a})),e.d(n,"selectorAll",(function(){return w.a})),e.d(n,"style",(function(){return _.b})),e.d(n,"window",(function(){return x.a}));var r=e(4),i=e(1),a=function(t){return"string"==typeof t?new i.a([[document.querySelector(t)]],[document.documentElement]):new i.a([[t]],i.c)},o=function(t){return a(Object(r.a)(t).call(document.documentElement))},u=0;function s(){return new l}function l(){this._="@"+(++u).toString(36)}l.prototype=s.prototype={constructor:l,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var c=e(3),f=e(9),h=e(5),d=function(t){let n;for(;n=t.sourceEvent;)t=n;return t},p=function(t,n){if(t=d(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]},g=function(t,n){return t.target&&(t=d(t),void 0===n&&(n=t.currentTarget),t=t.touches||[t]),Array.from(t,t=>p(t,n))},y=e(11),v=function(t){return"string"==typeof t?new i.a([document.querySelectorAll(t)],[document.documentElement]):new i.a([null==t?[]:Object(y.a)(t)],i.c)},m=e(8),w=e(18),_=e(19),x=e(10)},function(t,n,e){"use strict";e.d(n,"c",(function(){return rt})),e.d(n,"a",(function(){return it}));var r=e(8),i=e(11),a=e(18);var o=e(3),u=Array.prototype.find;function s(){return this.firstElementChild}var l=Array.prototype.filter;function c(){return this.children}var f=function(t){return new Array(t.length)};function h(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}h.prototype={constructor:h,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var d=function(t){return function(){return t}};function p(t,n,e,r,i,a){for(var o,u=0,s=n.length,l=a.length;u<l;++u)(o=n[u])?(o.__data__=a[u],r[u]=o):e[u]=new h(t,a[u]);for(;u<s;++u)(o=n[u])&&(i[u]=o)}function g(t,n,e,r,i,a,o){var u,s,l,c=new Map,f=n.length,d=a.length,p=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(p[u]=l=o.call(s,s.__data__,u,n)+"",c.has(l)?i[u]=s:c.set(l,s));for(u=0;u<d;++u)l=o.call(t,a[u],u,a)+"",(s=c.get(l))?(r[u]=s,s.__data__=a[u],c.delete(l)):e[u]=new h(t,a[u]);for(u=0;u<f;++u)(s=n[u])&&c.get(p[u])===s&&(i[u]=s)}function y(t){return t.__data__}function v(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var m=e(9);function w(t){return function(){this.removeAttribute(t)}}function _(t){return function(){this.removeAttributeNS(t.space,t.local)}}function x(t,n){return function(){this.setAttribute(t,n)}}function b(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function A(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function N(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var M=e(19);function S(t){return function(){delete this[t]}}function I(t,n){return function(){this[t]=n}}function k(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function C(t){return t.trim().split(/^|\s+/)}function E(t){return t.classList||new P(t)}function P(t){this._node=t,this._names=C(t.getAttribute("class")||"")}function O(t,n){for(var e=E(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function T(t,n){for(var e=E(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function F(t){return function(){O(this,t)}}function j(t){return function(){T(this,t)}}function L(t,n){return function(){(n.apply(this,arguments)?O:T)(this,t)}}P.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function D(){this.textContent=""}function R(t){return function(){this.textContent=t}}function z(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function H(){this.innerHTML=""}function B(t){return function(){this.innerHTML=t}}function q(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function X(){this.nextSibling&&this.parentNode.appendChild(this)}function $(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var Y=e(4);function G(){return null}function U(){var t=this.parentNode;t&&t.removeChild(this)}function V(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function W(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function J(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function K(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,a=n.length;r<a;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function Q(t,n,e){return function(){var r,i=this.__on,a=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var o=0,u=i.length;o<u;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=e),void(r.value=n);this.addEventListener(t.type,a,e),r={type:t.type,name:t.name,value:n,listener:a,options:e},i?i.push(r):this.__on=[r]}}var Z=e(10);function tt(t,n,e){var r=Object(Z.a)(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function nt(t,n){return function(){return tt(this,t,n)}}function et(t,n){return function(){return tt(this,t,n.apply(this,arguments))}}var rt=[null];function it(t,n){this._groups=t,this._parents=n}function at(){return new it([[document.documentElement]],rt)}it.prototype=at.prototype={constructor:it,select:function(t){"function"!=typeof t&&(t=Object(r.a)(t));for(var n=this._groups,e=n.length,i=new Array(e),a=0;a<e;++a)for(var o,u,s=n[a],l=s.length,c=i[a]=new Array(l),f=0;f<l;++f)(o=s[f])&&(u=t.call(o,o.__data__,f,s))&&("__data__"in o&&(u.__data__=o.__data__),c[f]=u);return new it(i,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);return null==n?[]:Object(i.a)(n)}}(t):Object(a.a)(t);for(var n=this._groups,e=n.length,r=[],o=[],u=0;u<e;++u)for(var s,l=n[u],c=l.length,f=0;f<c;++f)(s=l[f])&&(r.push(t.call(s,s.__data__,f,l)),o.push(s));return new it(r,o)},selectChild:function(t){return this.select(null==t?s:function(t){return function(){return u.call(this.children,t)}}("function"==typeof t?t:Object(o.a)(t)))},selectChildren:function(t){return this.selectAll(null==t?c:function(t){return function(){return l.call(this.children,t)}}("function"==typeof t?t:Object(o.a)(t)))},filter:function(t){"function"!=typeof t&&(t=Object(o.b)(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,u=n[i],s=u.length,l=r[i]=[],c=0;c<s;++c)(a=u[c])&&t.call(a,a.__data__,c,u)&&l.push(a);return new it(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,y);var e=n?g:p,r=this._parents,a=this._groups;"function"!=typeof t&&(t=d(t));for(var o=a.length,u=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var f=r[c],h=a[c],v=h.length,m=Object(i.a)(t.call(f,f&&f.__data__,c,r)),w=m.length,_=s[c]=new Array(w),x=u[c]=new Array(w),b=l[c]=new Array(v);e(f,h,_,x,b,m,n);for(var A,N,M=0,S=0;M<w;++M)if(A=_[M]){for(M>=S&&(S=M+1);!(N=x[S])&&++S<w;);A._next=N||null}}return(u=new it(u,r))._enter=s,u._exit=l,u},enter:function(){return new it(this._enter||this._groups.map(f),this._parents)},exit:function(){return new it(this._exit||this._groups.map(f),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?a.remove():e(a),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof it))throw new Error("invalid merge");for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var s,l=n[u],c=e[u],f=l.length,h=o[u]=new Array(f),d=0;d<f;++d)(s=l[d]||c[d])&&(h[d]=s);for(;u<r;++u)o[u]=n[u];return new it(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=v);for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o,u=e[a],s=u.length,l=i[a]=new Array(s),c=0;c<s;++c)(o=u[c])&&(l[c]=o);l.sort(n)}return new it(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,a=n[e],o=0,u=a.length;o<u;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,n){var e=Object(m.a)(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?_:w:"function"==typeof n?e.local?N:A:e.local?b:x)(e,n))},style:M.a,property:function(t,n){return arguments.length>1?this.each((null==n?S:"function"==typeof n?k:I)(t,n)):this.node()[t]},classed:function(t,n){var e=C(t+"");if(arguments.length<2){for(var r=E(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?L:n?F:j)(e,n))},text:function(t){return arguments.length?this.each(null==t?D:("function"==typeof t?z:R)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?H:("function"==typeof t?q:B)(t)):this.node().innerHTML},raise:function(){return this.each(X)},lower:function(){return this.each($)},append:function(t){var n="function"==typeof t?t:Object(Y.a)(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Object(Y.a)(t),i=null==n?G:"function"==typeof n?n:Object(r.a)(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(U)},clone:function(t){return this.select(t?W:V)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,a=J(t+""),o=a.length;if(!(arguments.length<2)){for(u=n?Q:K,r=0;r<o;++r)this.each(u(a[r],n,e));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<o;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?et:nt)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};n.b=at},,function(t,n,e){"use strict";function r(t){return function(n){return n.matches(t)}}e.d(n,"a",(function(){return r})),n.b=function(t){return function(){return this.matches(t)}}},function(t,n,e){"use strict";var r=e(9),i=e(5);function a(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===i.b&&n.documentElement.namespaceURI===i.b?n.createElement(t):n.createElementNS(e,t)}}function o(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}n.a=function(t){var n=Object(r.a)(t);return(n.local?o:a)(n)}},function(t,n,e){"use strict";e.d(n,"b",(function(){return r}));var r="http://www.w3.org/1999/xhtml";n.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ChartUtil=n.getChartInfoWithoutMargin=n.getChartInfo=n.linkId=n.V_SPACING=n.H_SPACING=void 0;var r=e(0),i=e(145),a=e(7);e(42),n.H_SPACING=15,n.V_SPACING=30;function o(t){if(!t.parent)return t.id+":A";var n=t.data.generation>t.parent.data.generation?[t.data,t.parent.data]:[t.parent.data,t.data],e=n[0],r=n[1];return e.additionalMarriage?e.id+":A":r.id+":"+e.id}n.linkId=o,n.getChartInfo=function(t){var n=a.min(t,(function(t){return t.x-t.data.width/2}))-15,e=a.min(t,(function(t){return t.y-t.data.height/2}))-15;return{size:[a.max(t,(function(t){return t.x+t.data.width/2}))+15-n,a.max(t,(function(t){return t.y+t.data.height/2}))+15-e],origin:[-n,-e]}},n.getChartInfoWithoutMargin=function(t){var n=a.min(t,(function(t){return t.x-t.data.width/2})),e=a.min(t,(function(t){return t.y-t.data.height/2}));return{size:[a.max(t,(function(t){return t.x+t.data.width/2}))-n,a.max(t,(function(t){return t.y+t.data.height/2}))-e],origin:[-n,-e]}};var u=function(){function t(t){this.options=t}return t.prototype.linkHorizontal=function(t,n){var e=this.options.renderer.getFamilyAnchor(t.data),r=t.id===n.data.spouseParentNodeId?this.options.renderer.getSpouseAnchor(n.data):this.options.renderer.getIndiAnchor(n.data),i=[t.x+e[0],t.y+e[1]],a=i[0],o=i[1],u=[n.x+r[0],n.y+r[1]],s=u[0],l=u[1],c=(t.x+t.data.width/2+n.x-n.data.width/2)/2;return"M "+a+" "+o+"\n            L "+c+" "+o+",\n              "+c+" "+l+",\n              "+s+" "+l},t.prototype.linkVertical=function(t,e){var r=this.options.renderer.getFamilyAnchor(t.data),i=t.id===e.data.spouseParentNodeId?this.options.renderer.getSpouseAnchor(e.data):this.options.renderer.getIndiAnchor(e.data),a=[t.x+r[0],t.y+r[1]],o=a[0],u=a[1],s=[e.x+i[0],e.y+i[1]],l=s[0],c=s[1],f=t.y+t.data.height/2+n.V_SPACING/2;return"M "+o+" "+u+"\n            L "+o+" "+f+",\n              "+l+" "+f+",\n              "+l+" "+c},t.prototype.linkAdditionalMarriage=function(t){var n=t.parent.children.findIndex((function(n){return n.data.id===t.data.id})),e=t.parent.children[n-1],r=this.options.renderer.getIndiAnchor(t.data),i=this.options.renderer.getIndiAnchor(e.data),a=[t.x+r[0],t.y+r[1]],o=a[0],u=a[1],s=[e.x+i[0],e.y+i[1]];return"M "+o+", "+u+"\n            L "+s[0]+", "+s[1]},t.prototype.updateSvgDimensions=function(t){var n=r.select(this.options.svgSelector).select("g");(this.options.animate?n.transition().delay(200).duration(500):n).attr("transform","translate("+t.origin[0]+", "+t.origin[1]+")")},t.prototype.layOutChart=function(t,e){var o=this;void 0===e&&(e={});var u=r.select(this.options.svgSelector);u.select("style").empty()&&u.append("style").text(this.options.renderer.getCss()),t.each((function(t){t.data.generation=t.depth*(e.flipVertically?-1:1)+(o.options.baseGeneration||0)})),this.options.renderer.updateNodes(t.descendants());var s=new Map;t.each((function(t){var n=t.depth,e=a.max([o.options.horizontal?t.data.width:t.data.height,s.get(n)]);s.set(n,e)})),t.each((function(t){var n=s.get(t.depth);o.options.horizontal?t.data.width=n:t.data.height=n}));var l=void 0!==e.vSpacing?e.vSpacing:n.V_SPACING,c=void 0!==e.hSpacing?e.hSpacing:n.H_SPACING,f=i.flextree().nodeSize((function(t){if(o.options.horizontal){var n=a.max(t.children||[],(function(t){return t.data.width}))||0;return[t.data.height,(n+t.data.width)/2+l]}var e=a.max(t.children||[],(function(t){return t.data.height}))||0;return[t.data.width,(e+t.data.height)/2+l]})).spacing((function(t,n){return c}))(t).descendants();return f.forEach((function(t){var n;e.flipVertically&&(t.y=-t.y),o.options.horizontal&&(n=[t.y,t.x],t.x=n[0],t.y=n[1])})),f},t.prototype.renderChart=function(t){var n=this.getSvgForRendering(),e=this.renderNodes(t,n),r=this.renderLinks(t,n);return Promise.all([e,r])},t.prototype.renderNodes=function(t,n){var e=this;return new Promise((function(r){var i=n.select("g").selectAll("g.node").data(t,(function(t){return t.id})),a=i.enter().append("g"),o=i.exit().size()+i.size()+a.size(),u=function(){0===--o&&r()};e.options.animate&&0!==o||r(),a.merge(i).attr("class",(function(t){return"node generation"+t.data.generation})),a.attr("transform",(function(t){return"translate("+(t.x-t.data.width/2)+", "+(t.y-t.data.height/2)+")"})),e.options.animate&&a.style("opacity",0).transition().delay(700).duration(200).style("opacity",1).on("end",u),(e.options.animate?i.transition().delay(200).duration(500).on("end",u):i).attr("transform",(function(t){return"translate("+(t.x-t.data.width/2)+", "+(t.y-t.data.height/2)+")"})),e.options.renderer.render(a,i),e.options.animate?i.exit().transition().duration(200).style("opacity",0).remove().on("end",u):i.exit().remove()}))},t.prototype.renderLinks=function(t,n){var e=this;return new Promise((function(r){var i=function(t,n){if(n.data.additionalMarriage)return e.linkAdditionalMarriage(n);var r=t.data.generation>n.data.generation;return e.options.horizontal?r?e.linkHorizontal(n,t):e.linkHorizontal(t,n):r?e.linkVertical(n,t):e.linkVertical(t,n)},a=t.filter((function(t){return!!t.parent||t.data.additionalMarriage})),u=n.select("g").selectAll("path.link").data(a,o),s=u.enter().insert("path","g").attr("class",(function(t){return t.data.additionalMarriage?"link additional-marriage":"link"})).attr("d",(function(t){return i(t.parent,t)})),l=u.exit().size()+u.size()+s.size(),c=function(){0===--l&&r()};e.options.animate&&0!==l||r(),(e.options.animate?u.transition().delay(200).duration(500).on("end",c):u).attr("d",(function(t){return i(t.parent,t)})),e.options.animate&&s.style("opacity",0).transition().delay(900).duration(0).style("opacity",1).on("end",c),e.options.animate?u.exit().transition().duration(0).style("opacity",0).remove().on("end",c):u.exit().remove()}))},t.prototype.getSvgForRendering=function(){var t=r.select(this.options.svgSelector);return t.select("g").empty()&&t.append("g"),t},t}();n.ChartUtil=u},function(t,n,e){"use strict";e.r(n),e.d(n,"bisect",(function(){return c})),e.d(n,"bisectRight",(function(){return u})),e.d(n,"bisectLeft",(function(){return s})),e.d(n,"bisectCenter",(function(){return l})),e.d(n,"ascending",(function(){return r})),e.d(n,"bisector",(function(){return i})),e.d(n,"count",(function(){return f})),e.d(n,"cross",(function(){return g})),e.d(n,"cumsum",(function(){return y})),e.d(n,"descending",(function(){return v})),e.d(n,"deviation",(function(){return w})),e.d(n,"extent",(function(){return _})),e.d(n,"Adder",(function(){return x})),e.d(n,"fsum",(function(){return b})),e.d(n,"fcumsum",(function(){return A})),e.d(n,"group",(function(){return P})),e.d(n,"groups",(function(){return O})),e.d(n,"index",(function(){return j})),e.d(n,"indexes",(function(){return L})),e.d(n,"rollup",(function(){return T})),e.d(n,"rollups",(function(){return F})),e.d(n,"groupSort",(function(){return B})),e.d(n,"bin",(function(){return Z})),e.d(n,"histogram",(function(){return Z})),e.d(n,"thresholdFreedmanDiaconis",(function(){return ot})),e.d(n,"thresholdScott",(function(){return ut})),e.d(n,"thresholdSturges",(function(){return Q})),e.d(n,"max",(function(){return tt})),e.d(n,"maxIndex",(function(){return st})),e.d(n,"mean",(function(){return lt})),e.d(n,"median",(function(){return ct})),e.d(n,"merge",(function(){return ft})),e.d(n,"min",(function(){return nt})),e.d(n,"minIndex",(function(){return ht})),e.d(n,"nice",(function(){return K})),e.d(n,"pairs",(function(){return dt})),e.d(n,"permute",(function(){return z})),e.d(n,"quantile",(function(){return it})),e.d(n,"quantileSorted",(function(){return at})),e.d(n,"quickselect",(function(){return et})),e.d(n,"range",(function(){return gt})),e.d(n,"least",(function(){return yt})),e.d(n,"leastIndex",(function(){return vt})),e.d(n,"greatest",(function(){return mt})),e.d(n,"greatestIndex",(function(){return wt})),e.d(n,"scan",(function(){return _t})),e.d(n,"shuffle",(function(){return xt})),e.d(n,"shuffler",(function(){return bt})),e.d(n,"sum",(function(){return At})),e.d(n,"ticks",(function(){return V})),e.d(n,"tickIncrement",(function(){return W})),e.d(n,"tickStep",(function(){return J})),e.d(n,"transpose",(function(){return Nt})),e.d(n,"variance",(function(){return m})),e.d(n,"zip",(function(){return St})),e.d(n,"every",(function(){return It})),e.d(n,"some",(function(){return kt})),e.d(n,"filter",(function(){return Ct})),e.d(n,"map",(function(){return Et})),e.d(n,"reduce",(function(){return Pt})),e.d(n,"reverse",(function(){return Ot})),e.d(n,"sort",(function(){return H})),e.d(n,"difference",(function(){return Tt})),e.d(n,"disjoint",(function(){return Ft})),e.d(n,"intersection",(function(){return Lt})),e.d(n,"subset",(function(){return Rt})),e.d(n,"superset",(function(){return Dt})),e.d(n,"union",(function(){return zt})),e.d(n,"InternMap",(function(){return N})),e.d(n,"InternSet",(function(){return M}));var r=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},i=function(t){let n=t,e=t;function i(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r}return 1===t.length&&(n=(n,e)=>t(n)-e,e=function(t){return(n,e)=>r(t(n),e)}(t)),{left:i,center:function(t,e,r,a){null==r&&(r=0),null==a&&(a=t.length);const o=i(t,e,r,a-1);return o>r&&n(t[o-1],e)>-n(t[o],e)?o-1:o},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}};var a=function(t){return null===t?NaN:+t};const o=i(r),u=o.right,s=o.left,l=i(a).center;var c=u;function f(t,n){let e=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&++e;else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(i=+i)>=i&&++e}return e}function h(t){return 0|t.length}function d(t){return!(t>0)}function p(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function g(...t){const n="function"==typeof t[t.length-1]&&function(t){return n=>t(...n)}(t.pop()),e=(t=t.map(p)).map(h),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||e.some(d))return a;for(;;){a.push(i.map((n,e)=>t[e][n]));let o=r;for(;++i[o]===e[o];){if(0===o)return n?a.map(n):a;i[o--]=0}}}function y(t,n){var e=0,r=0;return Float64Array.from(t,void 0===n?t=>e+=+t||0:i=>e+=+n(i,r++,t)||0)}var v=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN};function m(t,n){let e,r=0,i=0,a=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(e=n-i,i+=e/++r,a+=e*(n-i));else{let o=-1;for(let u of t)null!=(u=n(u,++o,t))&&(u=+u)>=u&&(e=u-i,i+=e/++r,a+=e*(u-i))}if(r>1)return a/(r-1)}function w(t,n){const e=m(t,n);return e?Math.sqrt(e):e}var _=function(t,n){let e,r;if(void 0===n)for(const n of t)null!=n&&(void 0===e?n>=n&&(e=r=n):(e>n&&(e=n),r<n&&(r=n)));else{let i=-1;for(let a of t)null!=(a=n(a,++i,t))&&(void 0===e?a>=a&&(e=r=a):(e>a&&(e=a),r<a&&(r=a)))}return[e,r]};class x{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],a=t+i,o=Math.abs(t)<Math.abs(i)?t-(a-i):i-(a-t);o&&(n[e++]=o),t=a}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,a=0;if(i>0){for(a=t[--i];i>0&&(n=a,e=t[--i],a=n+e,r=e-(a-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=a+e,e==n-a&&(a=n))}return a}}function b(t,n){const e=new x;if(void 0===n)for(let n of t)(n=+n)&&e.add(n);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&e.add(i)}return+e}function A(t,n){const e=new x;let r=-1;return Float64Array.from(t,void 0===n?t=>e.add(+t||0):i=>e.add(+n(i,++r,t)||0))}class N extends Map{constructor(t,n=C){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[n,e]of t)this.set(n,e)}get(t){return super.get(S(this,t))}has(t){return super.has(S(this,t))}set(t,n){return super.set(I(this,t),n)}delete(t){return super.delete(k(this,t))}}class M extends Set{constructor(t,n=C){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const n of t)this.add(n)}has(t){return super.has(S(this,t))}add(t){return super.add(I(this,t))}delete(t){return super.delete(k(this,t))}}function S({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function I({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function k({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(e),t.delete(r)),e}function C(t){return null!==t&&"object"==typeof t?t.valueOf():t}var E=function(t){return t};function P(t,...n){return R(t,E,E,n)}function O(t,...n){return R(t,Array.from,E,n)}function T(t,n,...e){return R(t,E,n,e)}function F(t,n,...e){return R(t,Array.from,n,e)}function j(t,...n){return R(t,E,D,n)}function L(t,...n){return R(t,Array.from,D,n)}function D(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function R(t,n,e,r){return function t(i,a){if(a>=r.length)return e(i);const o=new N,u=r[a++];let s=-1;for(const t of i){const n=u(t,++s,i),e=o.get(n);e?e.push(t):o.set(n,[t])}for(const[n,e]of o)o.set(n,t(e,a));return n(o)}(t,0)}var z=function(t,n){return Array.from(n,n=>t[n])};function H(t,...n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[e=r]=n;if(1===e.length||n.length>1){const i=Uint32Array.from(t,(t,n)=>n);return n.length>1?(n=n.map(n=>t.map(n)),i.sort((t,e)=>{for(const i of n){const n=r(i[t],i[e]);if(n)return n}})):(e=t.map(e),i.sort((t,n)=>r(e[t],e[n]))),z(t,i)}return t.sort(e)}function B(t,n,e){return(1===n.length?H(T(t,n,e),([t,n],[e,i])=>r(n,i)||r(t,e)):H(P(t,e),([t,e],[i,a])=>n(e,a)||r(t,i))).map(([t])=>t)}var q=Array.prototype,X=q.slice,$=(q.map,function(t){return function(){return t}}),Y=Math.sqrt(50),G=Math.sqrt(10),U=Math.sqrt(2),V=function(t,n,e){var r,i,a,o,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(o=W(t,n,e))||!isFinite(o))return[];if(o>0){let e=Math.round(t/o),r=Math.round(n/o);for(e*o<t&&++e,r*o>n&&--r,a=new Array(i=r-e+1);++u<i;)a[u]=(e+u)*o}else{o=-o;let e=Math.round(t*o),r=Math.round(n*o);for(e/o<t&&++e,r/o>n&&--r,a=new Array(i=r-e+1);++u<i;)a[u]=(e+u)/o}return r&&a.reverse(),a};function W(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Y?10:a>=G?5:a>=U?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Y?10:a>=G?5:a>=U?2:1)}function J(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Y?i*=10:a>=G?i*=5:a>=U&&(i*=2),n<t?-i:i}function K(t,n,e){let r;for(;;){const i=W(t,n,e);if(i===r||0===i||!isFinite(i))return[t,n];i>0?(t=Math.floor(t/i)*i,n=Math.ceil(n/i)*i):i<0&&(t=Math.ceil(t*i)/i,n=Math.floor(n*i)/i),r=i}}var Q=function(t){return Math.ceil(Math.log(f(t))/Math.LN2)+1},Z=function(){var t=E,n=_,e=Q;function r(r){Array.isArray(r)||(r=Array.from(r));var i,a,o=r.length,u=new Array(o);for(i=0;i<o;++i)u[i]=t(r[i],i,r);var s=n(u),l=s[0],f=s[1],h=e(u,l,f);if(!Array.isArray(h)){const t=f,e=+h;if(n===_&&([l,f]=K(l,f,e)),(h=V(l,f,e))[h.length-1]>=f)if(t>=f&&n===_){const t=W(l,f,e);isFinite(t)&&(t>0?f=(Math.floor(f/t)+1)*t:t<0&&(f=(Math.ceil(f*-t)+1)/-t))}else h.pop()}for(var d=h.length;h[0]<=l;)h.shift(),--d;for(;h[d-1]>f;)h.pop(),--d;var p,g=new Array(d+1);for(i=0;i<=d;++i)(p=g[i]=[]).x0=i>0?h[i-1]:l,p.x1=i<d?h[i]:f;for(i=0;i<o;++i)l<=(a=u[i])&&a<=f&&g[c(h,a,0,d)].push(r[i]);return g}return r.value=function(n){return arguments.length?(t="function"==typeof n?n:$(n),r):t},r.domain=function(t){return arguments.length?(n="function"==typeof t?t:$([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?$(X.call(t)):$(t),r):e},r};function tt(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e<n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function nt(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e>n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e>i||void 0===e&&i>=i)&&(e=i)}return e}function et(t,n,e=0,i=t.length-1,a=r){for(;i>e;){if(i-e>600){const r=i-e+1,o=n-e+1,u=Math.log(r),s=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*s*(r-s)/r)*(o-r/2<0?-1:1);et(t,n,Math.max(e,Math.floor(n-o*s/r+l)),Math.min(i,Math.floor(n+(r-o)*s/r+l)),a)}const r=t[n];let o=e,u=i;for(rt(t,e,n),a(t[i],r)>0&&rt(t,e,i);o<u;){for(rt(t,o,u),++o,--u;a(t[o],r)<0;)++o;for(;a(t[u],r)>0;)--u}0===a(t[e],r)?rt(t,e,u):(++u,rt(t,u,i)),u<=n&&(e=u+1),n<=u&&(i=u-1)}return t}function rt(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function it(t,n,e){if(r=(t=Float64Array.from(function*(t,n){if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let e=-1;for(let r of t)null!=(r=n(r,++e,t))&&(r=+r)>=r&&(yield r)}}(t,e))).length){if((n=+n)<=0||r<2)return nt(t);if(n>=1)return tt(t);var r,i=(r-1)*n,a=Math.floor(i),o=tt(et(t,a).subarray(0,a+1));return o+(nt(t.subarray(a+1))-o)*(i-a)}}function at(t,n,e=a){if(r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),u=+e(t[o],o,t);return u+(+e(t[o+1],o+1,t)-u)*(i-o)}}var ot=function(t,n,e){return Math.ceil((e-n)/(2*(it(t,.75)-it(t,.25))*Math.pow(f(t),-1/3)))},ut=function(t,n,e){return Math.ceil((e-n)/(3.5*w(t)*Math.pow(f(t),-1/3)))};function st(t,n){let e,r=-1,i=-1;if(void 0===n)for(const n of t)++i,null!=n&&(e<n||void 0===e&&n>=n)&&(e=n,r=i);else for(let a of t)null!=(a=n(a,++i,t))&&(e<a||void 0===e&&a>=a)&&(e=a,r=i);return r}function lt(t,n){let e=0,r=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(++e,r+=n);else{let i=-1;for(let a of t)null!=(a=n(a,++i,t))&&(a=+a)>=a&&(++e,r+=a)}if(e)return r/e}var ct=function(t,n){return it(t,.5,n)};function ft(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function ht(t,n){let e,r=-1,i=-1;if(void 0===n)for(const n of t)++i,null!=n&&(e>n||void 0===e&&n>=n)&&(e=n,r=i);else for(let a of t)null!=(a=n(a,++i,t))&&(e>a||void 0===e&&a>=a)&&(e=a,r=i);return r}function dt(t,n=pt){const e=[];let r,i=!1;for(const a of t)i&&e.push(n(r,a)),r=a,i=!0;return e}function pt(t,n){return[t,n]}var gt=function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);++r<i;)a[r]=t+r*e;return a};function yt(t,n=r){let e,i=!1;if(1===n.length){let a;for(const o of t){const t=n(o);(i?r(t,a)<0:0===r(t,t))&&(e=o,a=t,i=!0)}}else for(const r of t)(i?n(r,e)<0:0===n(r,r))&&(e=r,i=!0);return e}function vt(t,n=r){if(1===n.length)return ht(t,n);let e,i=-1,a=-1;for(const r of t)++a,(i<0?0===n(r,r):n(r,e)<0)&&(e=r,i=a);return i}function mt(t,n=r){let e,i=!1;if(1===n.length){let a;for(const o of t){const t=n(o);(i?r(t,a)>0:0===r(t,t))&&(e=o,a=t,i=!0)}}else for(const r of t)(i?n(r,e)>0:0===n(r,r))&&(e=r,i=!0);return e}function wt(t,n=r){if(1===n.length)return st(t,n);let e,i=-1,a=-1;for(const r of t)++a,(i<0?0===n(r,r):n(r,e)>0)&&(e=r,i=a);return i}function _t(t,n){const e=vt(t,n);return e<0?void 0:e}var xt=bt(Math.random);function bt(t){return function(n,e=0,r=n.length){let i=r-(e=+e);for(;i;){const r=t()*i--|0,a=n[i+e];n[i+e]=n[r+e],n[r+e]=a}return n}}function At(t,n){let e=0;if(void 0===n)for(let n of t)(n=+n)&&(e+=n);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}var Nt=function(t){if(!(i=t.length))return[];for(var n=-1,e=nt(t,Mt),r=new Array(e);++n<e;)for(var i,a=-1,o=r[n]=new Array(i);++a<i;)o[a]=t[a][n];return r};function Mt(t){return t.length}var St=function(){return Nt(arguments)};function It(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");let e=-1;for(const r of t)if(!n(r,++e,t))return!1;return!0}function kt(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");let e=-1;for(const r of t)if(n(r,++e,t))return!0;return!1}function Ct(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");const e=[];let r=-1;for(const i of t)n(i,++r,t)&&e.push(i);return e}function Et(t,n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof n)throw new TypeError("mapper is not a function");return Array.from(t,(e,r)=>n(e,r,t))}function Pt(t,n,e){if("function"!=typeof n)throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,a,o=-1;if(arguments.length<3){if(({done:i,value:e}=r.next()),i)return;++o}for(;({done:i,value:a}=r.next()),!i;)e=n(e,a,++o,t);return e}function Ot(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Tt(t,...n){t=new Set(t);for(const e of n)for(const n of e)t.delete(n);return t}function Ft(t,n){const e=n[Symbol.iterator](),r=new Set;for(const n of t){if(r.has(n))return!1;let t,i;for(;({value:t,done:i}=e.next())&&!i;){if(Object.is(n,t))return!1;r.add(t)}}return!0}function jt(t){return t instanceof Set?t:new Set(t)}function Lt(t,...n){t=new Set(t),n=n.map(jt);t:for(const e of t)for(const r of n)if(!r.has(e)){t.delete(e);continue t}return t}function Dt(t,n){const e=t[Symbol.iterator](),r=new Set;for(const t of n){if(r.has(t))continue;let n,i;for(;({value:n,done:i}=e.next());){if(i)return!1;if(r.add(n),Object.is(t,n))break}}return!0}function Rt(t,n){return Dt(n,t)}function zt(...t){const n=new Set;for(const e of t)for(const t of e)n.add(t);return n}},function(t,n,e){"use strict";function r(){}n.a=function(t){return null==t?r:function(){return this.querySelector(t)}}},function(t,n,e){"use strict";var r=e(5);n.a=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),r.a.hasOwnProperty(n)?{space:r.a[n],local:t}:t}},function(t,n,e){"use strict";n.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,n,e){"use strict";n.a=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}},function(t,n,e){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,n,e,r){void 0===r&&(r=e),Object.defineProperty(t,r,{enumerable:!0,get:function(){return n[e]}})}:function(t,n,e,r){void 0===r&&(r=e),t[r]=n[e]}),i=this&&this.__exportStar||function(t,n){for(var e in t)"default"===e||Object.prototype.hasOwnProperty.call(n,e)||r(n,t,e)};Object.defineProperty(n,"__esModule",{value:!0}),e(124),i(e(26),n),i(e(125),n),i(e(6),n),i(e(126),n),i(e(27),n),i(e(38),n),i(e(39),n),i(e(127),n),i(e(17),n),i(e(128),n),i(e(129),n),i(e(133),n),i(e(134),n),i(e(138),n),i(e(139),n),i(e(140),n)},,,,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.IdGenerator=void 0;var r=function(){function t(){this.ids=new Map}return t.prototype.getId=function(t){if(this.ids.has(t)){var n=this.ids.get(t);return this.ids.set(t,n+1),t+":"+n}return this.ids.set(t,1),t},t}();n.IdGenerator=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DescendantChart=n.layOutDescendants=n.DUMMY_ROOT_NODE_ID=void 0;var r=e(28),i=e(6),a=e(16);function o(t){if(t[0].id!==n.DUMMY_ROOT_NODE_ID)return t;var e=t.slice(1),r=-e[0].x,i=-e[0].y;return e.forEach((function(t){t.parent&&t.parent.id===n.DUMMY_ROOT_NODE_ID&&!t.data.additionalMarriage&&(t.parent=null),t.x+=r,t.y+=i,t.data.generation--})),e}n.DUMMY_ROOT_NODE_ID="DUMMY_ROOT_NODE",n.layOutDescendants=function(t,n){void 0===n&&(n={});var e=new u(t).createHierarchy();return o(new i.ChartUtil(t).layOutChart(e,n))};var u=function(){function t(t){this.options=t,this.util=new i.ChartUtil(t)}return t.prototype.getNodes=function(t){var n=this,e=this.options.data.getIndi(t).getFamiliesAsSpouse();if(!e.length)return[{id:t,indi:{id:t}}];var r=e.map((function(e){var r={id:e,indi:{id:t},family:{id:e}},i=n.options.data.getFam(e),a=function(t,n){return n.getFather()===t?n.getMother():n.getFather()}(t,i);return a&&(r.spouse={id:a}),r}));return r.slice(1).forEach((function(t){t.additionalMarriage=!0})),r},t.prototype.getFamNode=function(t){var n={id:t,family:{id:t}},e=this.options.data.getFam(t),r=e.getFather();r&&(n.indi={id:r});var i=e.getMother();return i&&(n.spouse={id:i}),n},t.prototype.createHierarchy=function(){var t=this,e=[],i=this.options.startIndi?this.getNodes(this.options.startIndi):[this.getFamNode(this.options.startFam)],o=this.options.idGenerator||new a.IdGenerator;if(i.forEach((function(t){return t.id=o.getId(t.id)})),i.length>1){var u={id:n.DUMMY_ROOT_NODE_ID,height:1,width:1};e.push(u),i.forEach((function(t){return t.parentId=u.id}))}e.push.apply(e,i);var s=[];i.forEach((function(t){t.family&&s.push(t)}));for(var l=function(){var n=s.pop();c.options.data.getFam(n.family.id).getChildren().forEach((function(r){var i=t.getNodes(r);i.forEach((function(t){t.parentId=n.id,t.family&&(t.id=""+o.getId(t.family.id),s.push(t))})),e.push.apply(e,i)}))},c=this;s.length;)l();return r.stratify()(e)},t.prototype.render=function(){var t=this.createHierarchy(),n=o(this.util.layOutChart(t)),e=this.util.renderChart(n),r=i.getChartInfo(n);return this.util.updateSvgDimensions(r),Object.assign(r,{animationPromise:e})},t}();n.DescendantChart=u},function(t,n,e){"use strict";function r(){return[]}n.a=function(t){return null==t?r:function(){return this.querySelectorAll(t)}}},function(t,n,e){"use strict";e.d(n,"b",(function(){return u}));var r=e(10);function i(t){return function(){this.style.removeProperty(t)}}function a(t,n,e){return function(){this.style.setProperty(t,n,e)}}function o(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function u(t,n){return t.style.getPropertyValue(n)||Object(r.a)(t).getComputedStyle(t,null).getPropertyValue(n)}n.a=function(t,n,e){return arguments.length>1?this.each((null==n?i:"function"==typeof n?o:a)(t,n,null==e?"":e)):u(this.node(),t)}},,,,,,,function(t,n,e){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.AncestorChart=n.getAncestorsTree=void 0;var i=e(6),a=e(28),o=e(16);n.getAncestorsTree=function(t){var n=r({},t),e=t.startIndi?t.data.getIndi(t.startIndi).getFamiliesAsSpouse():[];e.length&&(n.startFam=e[0],n.startIndi=void 0,t.data.getFam(e[0]).getMother()===t.startIndi&&(n.swapStartSpouses=!0));var i=new u(n).createHierarchy();return e.length>1&&i.children&&i.children.length>1&&(i.children.pop(),i.data.spouseParentNodeId=void 0),i};var u=function(){function t(t){this.options=t,this.util=new i.ChartUtil(t)}return t.prototype.createHierarchy=function(){var t=[],n=[],e=this.options.idGenerator||new o.IdGenerator;if(this.options.startIndi){var r=(f=this.options.data.getIndi(this.options.startIndi).getFamilyAsChild())?e.getId(f):void 0;f&&n.push({id:f,parentId:this.options.startIndi,family:{id:f}}),t.push({id:this.options.startIndi,indi:{id:this.options.startIndi},indiParentNodeId:r})}else n.push({id:e.getId(this.options.startFam),family:{id:this.options.startFam}});for(;n.length;){var i=n.pop(),u=this.options.data.getFam(i.family.id);if(u){var s=i.family.id===this.options.startFam&&this.options.swapStartSpouses?[u.getMother(),u.getFather()]:[u.getFather(),u.getMother()],l=s[0],c=s[1];if(l||c){var f;if(c)if(i.spouse={id:c},f=this.options.data.getIndi(c).getFamilyAsChild()){r=e.getId(f);i.spouseParentNodeId=r,n.push({id:r,parentId:i.id,family:{id:f}})}if(l)if(i.indi={id:l},f=this.options.data.getIndi(l).getFamilyAsChild()){r=e.getId(f);i.indiParentNodeId=r,n.push({id:r,parentId:i.id,family:{id:f}})}t.push(i)}}}return a.stratify()(t)},t.prototype.render=function(){var t=this.createHierarchy(),n=this.util.layOutChart(t,{flipVertically:!0}),e=this.util.renderChart(n),r=i.getChartInfo(n);return this.util.updateSvgDimensions(r),Object.assign(r,{animationPromise:e})},t}();n.AncestorChart=u},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getFamPositionHorizontal=n.getFamPositionVertical=n.CompositeRenderer=void 0;var r=e(7),i=function(){function t(t){this.options=t}return t.prototype.getPreferredFamSize=function(t){return[0,0]},t.prototype.setPreferredIndiSize=function(t){var n;t&&(n=this.getPreferredIndiSize(t.id),t.width=n[0],t.height=n[1])},t.prototype.updateNodes=function(t){var n=this,e=new Map;t.forEach((function(t){var i;n.setPreferredIndiSize(t.data.indi),n.setPreferredIndiSize(t.data.spouse);var a=t.data.family;a&&(i=n.getPreferredFamSize(a.id),a.width=i[0],a.height=i[1]);var o=t.depth,s=r.max([u(t.data,!!n.options.horizontal),e.get(o)]);e.set(o,s)})),t.forEach((function(t){var i;n.options.horizontal?(t.data.indi&&(t.data.indi.width=e.get(t.depth)),t.data.spouse&&(t.data.spouse.width=e.get(t.depth))):(t.data.indi&&(t.data.indi.height=e.get(t.depth)),t.data.spouse&&(t.data.spouse.height=e.get(t.depth)));var a=function(t,n){return u(t,n)+function(t,n){if(n)return t.family?t.family.width:0;return t.family?t.family.height:0}(t,n)}(t.data,!!n.options.horizontal),o=function(t,n){if(n)return(t.indi?t.indi.height:0)+(t.spouse?t.spouse.height:0);var e=(t.indi?t.indi.width:0)+(t.spouse?t.spouse.width:0);return r.max([e,t.family?t.family.width:0])}(t.data,!!n.options.horizontal);i=n.options.horizontal?[a,o]:[o,a],t.data.width=i[0],t.data.height=i[1]}))},t.prototype.getFamilyAnchor=function(t){if(this.options.horizontal){var n=-t.width/2+u(t,this.options.horizontal)/2,e=t.family?r.max([-o(t),0]):0;return[n,-(t.indi&&t.spouse?t.height/2-t.indi.height:0)+e]}var i=t.family?r.max([-a(t),0]):0;return[-(t.indi&&t.spouse?t.width/2-t.indi.width:0)+i,-t.height/2+u(t,this.options.horizontal)/2]},t.prototype.getSpouseAnchor=function(t){return this.options.horizontal?[-t.width/2+u(t,this.options.horizontal)/2,t.indi?t.indi.height/2:0]:[t.indi?t.indi.width/2:0,-t.height/2+u(t,!!this.options.horizontal)/2]},t.prototype.getIndiAnchor=function(t){return this.options.horizontal?[-t.width/2+u(t,this.options.horizontal)/2,t.spouse?-t.spouse.height/2:0]:[t.spouse?-t.spouse.width/2:0,-t.height/2+u(t,!!this.options.horizontal)/2]},t}();function a(t){var n=t.indi?t.indi.width:0,e=t.spouse?t.spouse.width:0,r=t.family.width;return!t.indi||!t.spouse||n+e<=r?(n+e-r)/2:r/2>=e?n+e-r:r/2>=n?0:n-r/2}function o(t){var n=t.indi?t.indi.height:0,e=t.spouse?t.spouse.height:0,r=t.family.height;return t.indi&&t.spouse?n-r/2:(n+e-r)/2}function u(t,n){return n?r.max([t.indi?t.indi.width:0,t.spouse?t.spouse.width:0]):r.max([t.indi?t.indi.height:0,t.spouse?t.spouse.height:0])}n.CompositeRenderer=i,n.getFamPositionVertical=a,n.getFamPositionHorizontal=o},function(t,n,e){"use strict";function r(t,n){return t.parent===n.parent?1:2}function i(t,n){return t+n.x}function a(t,n){return Math.max(t,n.y)}e.r(n),e.d(n,"cluster",(function(){return o})),e.d(n,"hierarchy",(function(){return s})),e.d(n,"pack",(function(){return T})),e.d(n,"packSiblings",(function(){return I})),e.d(n,"packEnclose",(function(){return p})),e.d(n,"partition",(function(){return z})),e.d(n,"stratify",(function(){return $})),e.d(n,"tree",(function(){return K})),e.d(n,"treemap",(function(){return et})),e.d(n,"treemapBinary",(function(){return rt})),e.d(n,"treemapDice",(function(){return R})),e.d(n,"treemapSlice",(function(){return Q})),e.d(n,"treemapSliceDice",(function(){return it})),e.d(n,"treemapSquarify",(function(){return nt})),e.d(n,"treemapResquarify",(function(){return at}));var o=function(){var t=r,n=1,e=1,o=!1;function u(r){var u,s=0;r.eachAfter((function(n){var e=n.children;e?(n.x=function(t){return t.reduce(i,0)/t.length}(e),n.y=function(t){return 1+t.reduce(a,0)}(e)):(n.x=u?s+=t(n,u):0,n.y=0,u=n)}));var l=function(t){for(var n;n=t.children;)t=n[0];return t}(r),c=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(r),f=l.x-t(l,c)/2,h=c.x+t(c,l)/2;return r.eachAfter(o?function(t){t.x=(t.x-r.x)*n,t.y=(r.y-t.y)*e}:function(t){t.x=(t.x-f)/(h-f)*n,t.y=(1-(r.y?t.y/r.y:1))*e})}return u.separation=function(n){return arguments.length?(t=n,u):t},u.size=function(t){return arguments.length?(o=!1,n=+t[0],e=+t[1],u):o?null:[n,e]},u.nodeSize=function(t){return arguments.length?(o=!0,n=+t[0],e=+t[1],u):o?[n,e]:null},u};function u(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function s(t,n){t instanceof Map?(t=[void 0,t],void 0===n&&(n=c)):void 0===n&&(n=l);for(var e,r,i,a,o,u=new d(t),s=[u];e=s.pop();)if((i=n(e.data))&&(o=(i=Array.from(i)).length))for(e.children=i,a=o-1;a>=0;--a)s.push(r=i[a]=new d(i[a])),r.parent=e,r.depth=e.depth+1;return u.eachBefore(h)}function l(t){return t.children}function c(t){return Array.isArray(t)?t[1]:null}function f(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function h(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function d(t){this.data=t,this.depth=this.height=0,this.parent=null}d.prototype=s.prototype={constructor:d,count:function(){return this.eachAfter(u)},each:function(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this},eachAfter:function(t,n){for(var e,r,i,a=this,o=[a],u=[],s=-1;a=o.pop();)if(u.push(a),e=a.children)for(r=0,i=e.length;r<i;++r)o.push(e[r]);for(;a=u.pop();)t.call(n,a,++s,this);return this},eachBefore:function(t,n){for(var e,r,i=this,a=[i],o=-1;i=a.pop();)if(t.call(n,i,++o,this),e=i.children)for(r=e.length-1;r>=0;--r)a.push(e[r]);return this},find:function(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r},sum:function(t){return this.eachAfter((function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e}))},sort:function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;t=e.pop(),n=r.pop();for(;t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t},links:function(){var t=this,n=[];return t.each((function(e){e!==t&&n.push({source:e.parent,target:e})})),n},copy:function(){return s(this).eachBefore(f)},[Symbol.iterator]:function*(){var t,n,e,r,i=this,a=[i];do{for(t=a.reverse(),a=[];i=t.pop();)if(yield i,n=i.children)for(e=0,r=n.length;e<r;++e)a.push(n[e])}while(a.length)}};var p=function(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(Array.from(t))).length,a=[];r<i;)n=t[r],e&&v(e,n)?++r:(e=w(a=g(a,n)),r=0);return e};function g(t,n){var e,r;if(m(n,t))return[n];for(e=0;e<t.length;++e)if(y(n,t[e])&&m(_(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(y(_(t[e],t[r]),n)&&y(_(t[e],n),t[r])&&y(_(t[r],n),t[e])&&m(x(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function y(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function v(t,n){var e=t.r-n.r+1e-9*Math.max(t.r,n.r,1),r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function m(t,n){for(var e=0;e<n.length;++e)if(!v(t,n[e]))return!1;return!0}function w(t){switch(t.length){case 1:return{x:(n=t[0]).x,y:n.y,r:n.r};case 2:return _(t[0],t[1]);case 3:return x(t[0],t[1],t[2])}var n}function _(t,n){var e=t.x,r=t.y,i=t.r,a=n.x,o=n.y,u=n.r,s=a-e,l=o-r,c=u-i,f=Math.sqrt(s*s+l*l);return{x:(e+a+s/f*c)/2,y:(r+o+l/f*c)/2,r:(f+i+u)/2}}function x(t,n,e){var r=t.x,i=t.y,a=t.r,o=n.x,u=n.y,s=n.r,l=e.x,c=e.y,f=e.r,h=r-o,d=r-l,p=i-u,g=i-c,y=s-a,v=f-a,m=r*r+i*i-a*a,w=m-o*o-u*u+s*s,_=m-l*l-c*c+f*f,x=d*p-h*g,b=(p*_-g*w)/(2*x)-r,A=(g*y-p*v)/x,N=(d*w-h*_)/(2*x)-i,M=(h*v-d*y)/x,S=A*A+M*M-1,I=2*(a+b*A+N*M),k=b*b+N*N-a*a,C=-(S?(I+Math.sqrt(I*I-4*S*k))/(2*S):k/I);return{x:r+b+A*C,y:i+N+M*C,r:C}}function b(t,n,e){var r,i,a,o,u=t.x-n.x,s=t.y-n.y,l=u*u+s*s;l?(i=n.r+e.r,i*=i,o=t.r+e.r,i>(o*=o)?(r=(l+o-i)/(2*l),a=Math.sqrt(Math.max(0,o/l-r*r)),e.x=t.x-r*u-a*s,e.y=t.y-r*s+a*u):(r=(l+i-o)/(2*l),a=Math.sqrt(Math.max(0,i/l-r*r)),e.x=n.x+r*u-a*s,e.y=n.y+r*s+a*u)):(e.x=n.x+e.r,e.y=n.y)}function A(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function N(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,a=(n.y*e.r+e.y*n.r)/r;return i*i+a*a}function M(t){this._=t,this.next=null,this.previous=null}function S(t){if(!(a=(n=t,t="object"==typeof n&&"length"in n?n:Array.from(n)).length))return 0;var n,e,r,i,a,o,u,s,l,c,f,h;if((e=t[0]).x=0,e.y=0,!(a>1))return e.r;if(r=t[1],e.x=-r.r,r.x=e.r,r.y=0,!(a>2))return e.r+r.r;b(r,e,i=t[2]),e=new M(e),r=new M(r),i=new M(i),e.next=i.previous=r,r.next=e.previous=i,i.next=r.previous=e;t:for(s=3;s<a;++s){b(e._,r._,i=t[s]),i=new M(i),l=r.next,c=e.previous,f=r._.r,h=e._.r;do{if(f<=h){if(A(l._,i._)){r=l,e.next=r,r.previous=e,--s;continue t}f+=l._.r,l=l.next}else{if(A(c._,i._)){(e=c).next=r,r.previous=e,--s;continue t}h+=c._.r,c=c.previous}}while(l!==c.next);for(i.previous=e,i.next=r,e.next=r.previous=r=i,o=N(e);(i=i.next)!==r;)(u=N(i))<o&&(e=i,o=u);r=e.next}for(e=[r._],i=r;(i=i.next)!==r;)e.push(i._);for(i=p(e),s=0;s<a;++s)(e=t[s]).x-=i.x,e.y-=i.y;return i.r}var I=function(t){return S(t),t};function k(t){return null==t?null:C(t)}function C(t){if("function"!=typeof t)throw new Error;return t}function E(){return 0}var P=function(t){return function(){return t}};function O(t){return Math.sqrt(t.value)}var T=function(){var t=null,n=1,e=1,r=E;function i(i){return i.x=n/2,i.y=e/2,t?i.eachBefore(F(t)).eachAfter(j(r,.5)).eachBefore(L(1)):i.eachBefore(F(O)).eachAfter(j(E,1)).eachAfter(j(r,i.r/Math.min(n,e))).eachBefore(L(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=k(n),i):t},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:P(+t),i):r},i};function F(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function j(t,n){return function(e){if(r=e.children){var r,i,a,o=r.length,u=t(e)*n||0;if(u)for(i=0;i<o;++i)r[i].r+=u;if(a=S(r),u)for(i=0;i<o;++i)r[i].r-=u;e.r=a+u}}}function L(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}var D=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},R=function(t,n,e,r,i){for(var a,o=t.children,u=-1,s=o.length,l=t.value&&(r-n)/t.value;++u<s;)(a=o[u]).y0=e,a.y1=i,a.x0=n,a.x1=n+=a.value*l},z=function(){var t=1,n=1,e=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/a,i.eachBefore(function(t,n){return function(r){r.children&&R(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,a=r.y0,o=r.x1-e,u=r.y1-e;o<i&&(i=o=(i+o)/2),u<a&&(a=u=(a+u)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=u}}(n,a)),r&&i.eachBefore(D),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i},H={depth:-1},B={};function q(t){return t.id}function X(t){return t.parentId}var $=function(){var t=q,n=X;function e(e){var r,i,a,o,u,s,l,c=Array.from(e),f=c.length,p=new Map;for(i=0;i<f;++i)r=c[i],u=c[i]=new d(r),null!=(s=t(r,i,e))&&(s+="")&&(l=u.id=s,p.set(l,p.has(l)?B:u)),null!=(s=n(r,i,e))&&(s+="")&&(u.parent=s);for(i=0;i<f;++i)if(s=(u=c[i]).parent){if(!(o=p.get(s)))throw new Error("missing: "+s);if(o===B)throw new Error("ambiguous: "+s);o.children?o.children.push(u):o.children=[u],u.parent=o}else{if(a)throw new Error("multiple roots");a=u}if(!a)throw new Error("no root");if(a.parent=H,a.eachBefore((function(t){t.depth=t.parent.depth+1,--f})).eachBefore(h),a.parent=null,f>0)throw new Error("cycle");return a}return e.id=function(n){return arguments.length?(t=C(n),e):t},e.parentId=function(t){return arguments.length?(n=C(t),e):n},e};function Y(t,n){return t.parent===n.parent?1:2}function G(t){var n=t.children;return n?n[0]:t.t}function U(t){var n=t.children;return n?n[n.length-1]:t.t}function V(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function W(t,n,e){return t.a.parent===n.parent?t.a:e}function J(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}J.prototype=Object.create(d.prototype);var K=function(){var t=Y,n=1,e=1,r=null;function i(i){var s=function(t){for(var n,e,r,i,a,o=new J(t,0),u=[o];n=u.pop();)if(r=n._.children)for(n.children=new Array(a=r.length),i=a-1;i>=0;--i)u.push(e=n.children[i]=new J(r[i],i)),e.parent=n;return(o.parent=new J(null,0)).children=[o],o}(i);if(s.eachAfter(a),s.parent.m=-s.z,s.eachBefore(o),r)i.eachBefore(u);else{var l=i,c=i,f=i;i.eachBefore((function(t){t.x<l.x&&(l=t),t.x>c.x&&(c=t),t.depth>f.depth&&(f=t)}));var h=l===c?1:t(l,c)/2,d=h-l.x,p=n/(c.x+h+d),g=e/(f.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*g}))}return i}function a(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){!function(t){for(var n,e=0,r=0,i=t.children,a=i.length;--a>=0;)(n=i[a]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(n);var a=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-a):n.z=a}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,e,r){if(e){for(var i,a=n,o=n,u=e,s=a.parent.children[0],l=a.m,c=o.m,f=u.m,h=s.m;u=U(u),a=G(a),u&&a;)s=G(s),(o=U(o)).a=n,(i=u.z+f-a.z-l+t(u._,a._))>0&&(V(W(u,n,r),n,i),l+=i,c+=i),f+=u.m,l+=a.m,h+=s.m,c+=o.m;u&&!U(o)&&(o.t=u,o.m+=f-c),a&&!G(s)&&(s.t=a,s.m+=l-h,r=n)}return r}(n,i,n.parent.A||r[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},Q=function(t,n,e,r,i){for(var a,o=t.children,u=-1,s=o.length,l=t.value&&(i-e)/t.value;++u<s;)(a=o[u]).x0=n,a.x1=r,a.y0=e,a.y1=e+=a.value*l},Z=(1+Math.sqrt(5))/2;function tt(t,n,e,r,i,a){for(var o,u,s,l,c,f,h,d,p,g,y,v=[],m=n.children,w=0,_=0,x=m.length,b=n.value;w<x;){s=i-e,l=a-r;do{c=m[_++].value}while(!c&&_<x);for(f=h=c,y=c*c*(g=Math.max(l/s,s/l)/(b*t)),p=Math.max(h/y,y/f);_<x;++_){if(c+=u=m[_].value,u<f&&(f=u),u>h&&(h=u),y=c*c*g,(d=Math.max(h/y,y/f))>p){c-=u;break}p=d}v.push(o={value:c,dice:s<l,children:m.slice(w,_)}),o.dice?R(o,e,r,i,b?r+=l*c/b:a):Q(o,e,r,b?e+=s*c/b:i,a),b-=c,w=_}return v}var nt=function t(n){function e(t,e,r,i,a){tt(n,t,e,r,i,a)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Z),et=function(){var t=nt,n=!1,e=1,r=1,i=[0],a=E,o=E,u=E,s=E,l=E;function c(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(f),i=[0],n&&t.eachBefore(D),t}function f(n){var e=i[n.depth],r=n.x0+e,c=n.y0+e,f=n.x1-e,h=n.y1-e;f<r&&(r=f=(r+f)/2),h<c&&(c=h=(c+h)/2),n.x0=r,n.y0=c,n.x1=f,n.y1=h,n.children&&(e=i[n.depth+1]=a(n)/2,r+=l(n)-e,c+=o(n)-e,(f-=u(n)-e)<r&&(r=f=(r+f)/2),(h-=s(n)-e)<c&&(c=h=(c+h)/2),t(n,r,c,f,h))}return c.round=function(t){return arguments.length?(n=!!t,c):n},c.size=function(t){return arguments.length?(e=+t[0],r=+t[1],c):[e,r]},c.tile=function(n){return arguments.length?(t=C(n),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(a="function"==typeof t?t:P(+t),c):a},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:P(+t),c):o},c.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:P(+t),c):u},c.paddingBottom=function(t){return arguments.length?(s="function"==typeof t?t:P(+t),c):s},c.paddingLeft=function(t){return arguments.length?(l="function"==typeof t?t:P(+t),c):l},c},rt=function(t,n,e,r,i){var a,o,u=t.children,s=u.length,l=new Array(s+1);for(l[0]=o=a=0;a<s;++a)l[a+1]=o+=u[a].value;!function t(n,e,r,i,a,o,s){if(n>=e-1){var c=u[n];return c.x0=i,c.y0=a,c.x1=o,void(c.y1=s)}var f=l[n],h=r/2+f,d=n+1,p=e-1;for(;d<p;){var g=d+p>>>1;l[g]<h?d=g+1:p=g}h-l[d-1]<l[d]-h&&n+1<d&&--d;var y=l[d]-f,v=r-y;if(o-i>s-a){var m=r?(i*v+o*y)/r:o;t(n,d,y,i,a,m,s),t(d,e,v,m,a,o,s)}else{var w=r?(a*v+s*y)/r:s;t(n,d,y,i,a,o,w),t(d,e,v,i,w,o,s)}}(0,s,t.value,n,e,r,i)},it=function(t,n,e,r,i){(1&t.depth?Q:R)(t,n,e,r,i)},at=function t(n){function e(t,e,r,i,a){if((o=t._squarify)&&o.ratio===n)for(var o,u,s,l,c,f=-1,h=o.length,d=t.value;++f<h;){for(s=(u=o[f]).children,l=u.value=0,c=s.length;l<c;++l)u.value+=s[l].value;u.dice?R(u,e,r,i,d?r+=(a-r)*u.value/d:a):Q(u,e,r,d?e+=(i-e)*u.value/d:i,a),d-=u.value}else t._squarify=o=tt(n,t,e,r,i,a),o.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Z)},,,,,,,,,,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.JsonDataProvider=void 0;var r=function(){function t(t){this.json=t}return t.prototype.getId=function(){return this.json.id},t.prototype.getFamiliesAsSpouse=function(){return this.json.fams||[]},t.prototype.getFamilyAsChild=function(){return this.json.famc||null},t.prototype.getFirstName=function(){return this.json.firstName||null},t.prototype.getLastName=function(){return this.json.lastName||null},t.prototype.getBirthDate=function(){return this.json.birth||null},t.prototype.getMaidenName=function(){return this.json.maidenName||null},t.prototype.getNumberOfChildren=function(){return this.json.numberOfChildren||null},t.prototype.getNumberOfMarriages=function(){return this.json.numberOfMarriages||null},t.prototype.getBirthPlace=function(){return this.json.birth&&this.json.birth.place||null},t.prototype.getDeathDate=function(){return this.json.death||null},t.prototype.getDeathPlace=function(){return this.json.death&&this.json.death.place||null},t.prototype.isConfirmedDeath=function(){return!!this.json.death&&!!this.json.death.confirmed},t.prototype.getSex=function(){return this.json.sex||null},t.prototype.getImageUrl=function(){return this.json.images&&this.json.images.length>0&&this.json.images[0].url||null},t.prototype.getImages=function(){return this.json.images||null},t.prototype.getNotes=function(){return this.json.notes||null},t.prototype.getEvents=function(){return this.json.events||null},t.prototype.showId=function(){return!this.json.hideId},t.prototype.showSex=function(){return!this.json.hideSex},t}(),i=function(){function t(t){this.json=t}return t.prototype.getId=function(){return this.json.id},t.prototype.getFather=function(){return this.json.husb||null},t.prototype.getMother=function(){return this.json.wife||null},t.prototype.getChildren=function(){return this.json.children||[]},t.prototype.getMarriageDate=function(){return this.json.marriage||null},t.prototype.getMarriagePlace=function(){return this.json.marriage&&this.json.marriage.place||null},t}(),a=function(){function t(t){var n=this;this.json=t,this.indis=new Map,this.fams=new Map,t.indis.forEach((function(t){return n.indis.set(t.id,new r(t))})),t.fams.forEach((function(t){return n.fams.set(t.id,new i(t))}))}return t.prototype.getIndi=function(t){return this.indis.get(t)||null},t.prototype.getFam=function(t){return this.fams.get(t)||null},t}();n.JsonDataProvider=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.formatDateOrRange=n.formatDate=void 0;var r=new Map([[1,"Jan"],[2,"Feb"],[3,"Mar"],[4,"Apr"],[5,"May"],[6,"Jun"],[7,"Jul"],[8,"Aug"],[9,"Sep"],[10,"Oct"],[11,"Nov"],[12,"Dec"]]),i=new Map([["cs",new Map([["cal","vypot."],["abt","o"],["est","ocenil"],["before","ped"],["after","po"]])],["de",new Map([["cal","errech."],["abt","etwa"],["est","gescht."],["before","vor"],["after","nach"]])],["fr",new Map([["cal","calc."],["abt","vers"],["est","est."],["before","avant"],["after","aprs"]])],["it",new Map([["cal","calc."],["abt","circa il"],["est","stim."],["before","prima del"],["after","dopo del"]])],["pl",new Map([["cal","wyl."],["abt","ok."],["est","szac."],["before","przed"],["after","po"]])],["ru",new Map([["cal","."],["abt","."],["est","."],["before",""],["after",""]])]]),a=new Map;function o(t,n){if(!Intl||!Intl.DateTimeFormat)return r.get(t);var e=t+"|"+(n||"");if(a.has(e))return a.get(e);var i=new Intl.DateTimeFormat(n,{month:"short"}).format(new Date(2e3,t-1));return a.set(e,i),i}function u(t,n){var e=n&&n.split(/[-_]/)[0],r=e&&i.get(e);return r?r.get(t):t}function s(t,n,e,r){if(!t&&!n&&!e)return"";if(!Intl||!Intl.DateTimeFormat||!r||"en"===r)return[t,n&&o(n,r),e].join(" ");var i={day:t?"numeric":void 0,month:n?"short":void 0,year:e?"numeric":void 0};return new Intl.DateTimeFormat(r,i).format(new Date(null!=e?e:2e3,n?n-1:1,null!=t?t:1))}function l(t,n){return[t.qualifier&&u(t.qualifier,n),s(t.day,t.month,t.year,n),t.text].join(" ")}n.formatDate=l,n.formatDateOrRange=function(t,n){if(t.date)return l(t.date,n);if(!t.dateRange)return"";var e=t.dateRange.from&&l(t.dateRange.from),r=t.dateRange.to&&l(t.dateRange.to);return e&&r?e+" .. "+r:e?u("after",n)+" "+e:r?u("before",n)+" "+r:""}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.otherSideLinkType=n.LinkType=n.ChildNodes=void 0;var r,i=function(){function t(t){void 0===t&&(t={}),this.indiParents=[],this.indiSiblings=[],this.spouseParents=[],this.spouseSiblings=[],this.children=[],Object.assign(this,t)}return t.prototype.get=function(t){switch(t){case r.IndiParents:return this.indiParents;case r.IndiSiblings:return this.indiSiblings;case r.SpouseParents:return this.spouseParents;case r.SpouseSiblings:return this.spouseSiblings;case r.Children:return this.children}},t.prototype.getAll=function(){return[].concat(this.indiSiblings,this.indiParents,this.children,this.spouseParents,this.spouseSiblings)},t.EMPTY=new t,t}();n.ChildNodes=i,function(t){t[t.IndiParents=0]="IndiParents",t[t.IndiSiblings=1]="IndiSiblings",t[t.SpouseParents=2]="SpouseParents",t[t.SpouseSiblings=3]="SpouseSiblings",t[t.Children=4]="Children"}(r=n.LinkType||(n.LinkType={})),n.otherSideLinkType=function(t){switch(t){case r.IndiParents:return r.Children;case r.IndiSiblings:return r.IndiSiblings;case r.SpouseParents:return r.Children;case r.SpouseSiblings:return r.IndiSiblings;case r.Children:return r.IndiParents}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.points2pathd=n.zip=n.last=n.nonEmpty=void 0,n.nonEmpty=function(t){return!(!t||!t.length)},n.last=function(t){return t[t.length-1]},n.zip=function(t,n){return t.map((function(t,e){return[t,n[e]]}))},n.points2pathd=function(t){for(var n="M "+t[0].x+" "+t[0].y+" L",e=0,r=t.slice(1);e<r.length;e++){var i=r[e];n+=" "+i.x+" "+i.y}return n}},function(t,n,e){"use strict";e.r(n),e.d(n,"transition",(function(){return ln})),e.d(n,"active",(function(){return gn})),e.d(n,"interrupt",(function(){return L}));var r=e(1),i={value:()=>{}};function a(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new o(r)}function o(t){this._=t}function u(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function s(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function l(t,n,e){for(var r=0,a=t.length;r<a;++r)if(t[r].name===n){t[r]=i,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}o.prototype=a.prototype={constructor:o,on:function(t,n){var e,r=this._,i=u(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<o;)if(e=(t=i[a]).type)r[e]=l(r[e],t.name,n);else if(null==n)for(e in r)r[e]=l(r[e],t.name,null);return this}for(;++a<o;)if((e=(t=i[a]).type)&&(e=s(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new o(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),a=0;a<e;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,e=(r=this._[t]).length;a<e;++a)r[a].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};var c,f,h=a,d=0,p=0,g=0,y=0,v=0,m=0,w="object"==typeof performance&&performance.now?performance:Date,_="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function x(){return v||(_(b),v=w.now()+m)}function b(){v=0}function A(){this._call=this._time=this._next=null}function N(t,n,e){var r=new A;return r.restart(t,n,e),r}function M(){v=(y=w.now())+m,d=p=0;try{!function(){x(),++d;for(var t,n=c;n;)(t=v-n._time)>=0&&n._call.call(null,t),n=n._next;--d}()}finally{d=0,function(){var t,n,e=c,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:c=n);f=t,I(r)}(),v=0}}function S(){var t=w.now(),n=t-y;n>1e3&&(m-=n,y=t)}function I(t){d||(p&&(p=clearTimeout(p)),t-v>24?(t<1/0&&(p=setTimeout(M,t-w.now()-m)),g&&(g=clearInterval(g))):(g||(y=w.now(),g=setInterval(S,1e3)),d=1,_(M)))}A.prototype=N.prototype={constructor:A,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?x():+e)+(null==n?0:+n),this._next||f===this||(f?f._next=this:c=this,f=this),this._call=t,this._time=e,I()},stop:function(){this._call&&(this._call=null,this._time=1/0,I())}};var k=function(t,n,e){var r=new A;return n=null==n?0:+n,r.restart(e=>{r.stop(),t(e+n)},n,e),r},C=h("start","end","cancel","interrupt"),E=[],P=function(t,n,e,r,i,a){var o=t.__transition;if(o){if(e in o)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function a(s){var l,c,f,h;if(1!==e.state)return u();for(l in i)if((h=i[l]).name===e.name){if(3===h.state)return k(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if(k((function(){3===e.state&&(e.state=4,e.timer.restart(o,e.delay,e.time),o(s))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),l=0,c=-1;l<f;++l)(h=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=h);r.length=c+1}}function o(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=N((function(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:C,tween:E,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})};function O(t,n){var e=F(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function T(t,n){var e=F(t,n);if(e.state>3)throw new Error("too late; already running");return e}function F(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var j,L=function(t,n){var e,r,i,a=t.__transition,o=!0;if(a){for(i in n=null==n?null:n+"",a)(e=a[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete a[i]):o=!1;o&&delete t.__transition}},D=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},R=180/Math.PI,z={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},H=function(t,n,e,r,i,a){var o,u,s;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*R,skewX:Math.atan(s)*R,scaleX:o,scaleY:u}};function B(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var u=[],s=[];return a=t(a),o=t(o),function(t,r,i,a,o,u){if(t!==i||r!==a){var s=o.push("translate(",null,n,null,e);u.push({i:s-4,x:D(t,i)},{i:s-2,x:D(r,a)})}else(i||a)&&o.push("translate("+i+n+a+e)}(a.translateX,a.translateY,o.translateX,o.translateY,u,s),function(t,n,e,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:e.push(i(e)+"rotate(",null,r)-2,x:D(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(a.rotate,o.rotate,u,s),function(t,n,e,a){t!==n?a.push({i:e.push(i(e)+"skewX(",null,r)-2,x:D(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(a.skewX,o.skewX,u,s),function(t,n,e,r,a,o){if(t!==e||n!==r){var u=a.push(i(a)+"scale(",null,",",null,")");o.push({i:u-4,x:D(t,e)},{i:u-2,x:D(n,r)})}else 1===e&&1===r||a.push(i(a)+"scale("+e+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,u,s),a=o=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var q=B((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?z:H(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),X=B((function(t){return null==t?z:(j||(j=document.createElementNS("http://www.w3.org/2000/svg","g")),j.setAttribute("transform",t),(t=j.transform.baseVal.consolidate())?(t=t.matrix,H(t.a,t.b,t.c,t.d,t.e,t.f)):z)}),", ",")",")"),$=e(9);function Y(t,n){var e,r;return function(){var i=T(this,t),a=i.tween;if(a!==e)for(var o=0,u=(r=e=a).length;o<u;++o)if(r[o].name===n){(r=r.slice()).splice(o,1);break}i.tween=r}}function G(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var a=T(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:n,value:e},s=0,l=i.length;s<l;++s)if(i[s].name===n){i[s]=u;break}s===l&&i.push(u)}a.tween=i}}function U(t,n,e){var r=t._id;return t.each((function(){var t=T(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return F(t,r).value[n]}}var V=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function W(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function J(){}var K="\\s*([+-]?\\d+)\\s*",Q="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Z="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tt=/^#([0-9a-f]{3,8})$/,nt=new RegExp("^rgb\\("+[K,K,K]+"\\)$"),et=new RegExp("^rgb\\("+[Z,Z,Z]+"\\)$"),rt=new RegExp("^rgba\\("+[K,K,K,Q]+"\\)$"),it=new RegExp("^rgba\\("+[Z,Z,Z,Q]+"\\)$"),at=new RegExp("^hsl\\("+[Q,Z,Z]+"\\)$"),ot=new RegExp("^hsla\\("+[Q,Z,Z,Q]+"\\)$"),ut={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function st(){return this.rgb().formatHex()}function lt(){return this.rgb().formatRgb()}function ct(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=tt.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?ft(n):3===e?new gt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?ht(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?ht(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=nt.exec(t))?new gt(n[1],n[2],n[3],1):(n=et.exec(t))?new gt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=rt.exec(t))?ht(n[1],n[2],n[3],n[4]):(n=it.exec(t))?ht(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=at.exec(t))?wt(n[1],n[2]/100,n[3]/100,1):(n=ot.exec(t))?wt(n[1],n[2]/100,n[3]/100,n[4]):ut.hasOwnProperty(t)?ft(ut[t]):"transparent"===t?new gt(NaN,NaN,NaN,0):null}function ft(t){return new gt(t>>16&255,t>>8&255,255&t,1)}function ht(t,n,e,r){return r<=0&&(t=n=e=NaN),new gt(t,n,e,r)}function dt(t){return t instanceof J||(t=ct(t)),t?new gt((t=t.rgb()).r,t.g,t.b,t.opacity):new gt}function pt(t,n,e,r){return 1===arguments.length?dt(t):new gt(t,n,e,null==r?1:r)}function gt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function yt(){return"#"+mt(this.r)+mt(this.g)+mt(this.b)}function vt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function mt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function wt(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new xt(t,n,e,r)}function _t(t){if(t instanceof xt)return new xt(t.h,t.s,t.l,t.opacity);if(t instanceof J||(t=ct(t)),!t)return new xt;if(t instanceof xt)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,u=a-i,s=(a+i)/2;return u?(o=n===a?(e-r)/u+6*(e<r):e===a?(r-n)/u+2:(n-e)/u+4,u/=s<.5?a+i:2-a-i,o*=60):u=s>0&&s<1?0:o,new xt(o,u,s,t.opacity)}function xt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function bt(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function At(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}V(J,ct,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:st,formatHex:st,formatHsl:function(){return _t(this).formatHsl()},formatRgb:lt,toString:lt}),V(gt,pt,W(J,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new gt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new gt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yt,formatHex:yt,formatRgb:vt,toString:vt})),V(xt,(function(t,n,e,r){return 1===arguments.length?_t(t):new xt(t,n,e,null==r?1:r)}),W(J,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new xt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new xt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new gt(bt(t>=240?t-240:t+120,i,r),bt(t,i,r),bt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Nt=t=>()=>t;function Mt(t,n){return function(e){return t+e*n}}function St(t){return 1==(t=+t)?It:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Nt(isNaN(n)?e:n)}}function It(t,n){var e=n-t;return e?Mt(t,e):Nt(isNaN(t)?n:t)}var kt=function t(n){var e=St(n);function r(t,n){var r=e((t=pt(t)).r,(n=pt(n)).r),i=e(t.g,n.g),a=e(t.b,n.b),o=It(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=a(n),t.opacity=o(n),t+""}}return r.gamma=t,r}(1);function Ct(t){return function(n){var e,r,i=n.length,a=new Array(i),o=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=pt(n[e]),a[e]=r.r||0,o[e]=r.g||0,u[e]=r.b||0;return a=t(a),o=t(o),u=t(u),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=u(t),r+""}}}Ct((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,u=r<n-1?t[r+2]:2*a-i;return At((e-r/n)*n,o,i,a,u)}})),Ct((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],a=t[r%n],o=t[(r+1)%n],u=t[(r+2)%n];return At((e-r/n)*n,i,a,o,u)}}));var Et=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pt=new RegExp(Et.source,"g");var Ot=function(t,n){var e,r,i,a=Et.lastIndex=Pt.lastIndex=0,o=-1,u=[],s=[];for(t+="",n+="";(e=Et.exec(t))&&(r=Pt.exec(n));)(i=r.index)>a&&(i=n.slice(a,i),u[o]?u[o]+=i:u[++o]=i),(e=e[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:D(e,r)})),a=Pt.lastIndex;return a<n.length&&(i=n.slice(a),u[o]?u[o]+=i:u[++o]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})},Tt=function(t,n){var e;return("number"==typeof n?D:n instanceof ct?kt:(e=ct(n))?(n=e,kt):Ot)(t,n)};function Ft(t){return function(){this.removeAttribute(t)}}function jt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Lt(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=n(r=o,e)}}function Dt(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=n(r=o,e)}}function Rt(t,n,e){var r,i,a;return function(){var o,u,s=e(this);if(null!=s)return(o=this.getAttribute(t))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=n(r=o,s));this.removeAttribute(t)}}function zt(t,n,e){var r,i,a;return function(){var o,u,s=e(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=n(r=o,s));this.removeAttributeNS(t.space,t.local)}}function Ht(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Bt(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function qt(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Bt(t,i)),e}return i._value=n,i}function Xt(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Ht(t,i)),e}return i._value=n,i}function $t(t,n){return function(){O(this,t).delay=+n.apply(this,arguments)}}function Yt(t,n){return n=+n,function(){O(this,t).delay=n}}function Gt(t,n){return function(){T(this,t).duration=+n.apply(this,arguments)}}function Ut(t,n){return n=+n,function(){T(this,t).duration=n}}function Vt(t,n){if("function"!=typeof n)throw new Error;return function(){T(this,t).ease=n}}var Wt=e(3);function Jt(t,n,e){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?O:T;return function(){var o=a(this,t),u=o.on;u!==r&&(i=(r=u).copy()).on(n,e),o.on=i}}var Kt=e(8),Qt=e(18),Zt=r.b.prototype.constructor,tn=e(19);function nn(t){return function(){this.style.removeProperty(t)}}function en(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function rn(t,n,e){var r,i;function a(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&en(t,a,e)),r}return a._value=n,a}function an(t){return function(n){this.textContent=t.call(this,n)}}function on(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&an(r)),n}return r._value=t,r}var un=0;function sn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function ln(t){return Object(r.b)().transition(t)}function cn(){return++un}var fn=r.b.prototype;sn.prototype=ln.prototype={constructor:sn,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Object(Kt.a)(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u,s,l=r[o],c=l.length,f=a[o]=new Array(c),h=0;h<c;++h)(u=l[h])&&(s=t.call(u,u.__data__,h,l))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,P(f[h],n,e,h,f,F(u,e)));return new sn(a,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Object(Qt.a)(t));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var s,l=r[u],c=l.length,f=0;f<c;++f)if(s=l[f]){for(var h,d=t.call(s,s.__data__,f,l),p=F(s,e),g=0,y=d.length;g<y;++g)(h=d[g])&&P(h,n,e,g,d,p);a.push(d),o.push(s)}return new sn(a,o,n,e)},filter:function(t){"function"!=typeof t&&(t=Object(Wt.b)(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],u=o.length,s=r[i]=[],l=0;l<u;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&s.push(a);return new sn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var s,l=n[u],c=e[u],f=l.length,h=o[u]=new Array(f),d=0;d<f;++d)(s=l[d]||c[d])&&(h[d]=s);for(;u<r;++u)o[u]=n[u];return new sn(o,this._parents,this._name,this._id)},selection:function(){return new Zt(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=cn(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)if(o=u[l]){var c=F(o,n);P(o,t,e,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new sn(r,this._parents,t,e)},call:fn.call,nodes:fn.nodes,node:fn.node,size:fn.size,empty:fn.empty,each:fn.each,on:function(t,n){var e=this._id;return arguments.length<2?F(this.node(),e).on.on(t):this.each(Jt(e,t,n))},attr:function(t,n){var e=Object($.a)(t),r="transform"===e?X:Tt;return this.attrTween(t,"function"==typeof n?(e.local?zt:Rt)(e,r,U(this,"attr."+t,n)):null==n?(e.local?jt:Ft)(e):(e.local?Dt:Lt)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Object($.a)(t);return this.tween(e,(r.local?qt:Xt)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?q:Tt;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var a=Object(tn.b)(this,t),o=(this.style.removeProperty(t),Object(tn.b)(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}(t,r)).on("end.style."+t,nn(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,a;return function(){var o=Object(tn.b)(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=Object(tn.b)(this,t)),o===s?null:o===r&&s===i?a:(i=s,a=n(r=o,u))}}(t,r,U(this,"style."+t,n))).each(function(t,n){var e,r,i,a,o="style."+n,u="end."+o;return function(){var s=T(this,t),l=s.on,c=null==s.value[o]?a||(a=nn(n)):void 0;l===e&&i===c||(r=(e=l).copy()).on(u,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,a=e+"";return function(){var o=Object(tn.b)(this,t);return o===a?null:o===r?i:i=n(r=o,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,rn(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(U(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,on(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=F(this.node(),e).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==n?Y:G)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?$t:Yt)(n,t)):F(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Gt:Ut)(n,t)):F(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Vt(n,t)):F(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;T(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(a,o){var u={value:o},s={value:function(){0==--i&&a()}};e.each((function(){var e=T(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n})),0===i&&a()}))},[Symbol.iterator]:fn[Symbol.iterator]};var hn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function dn(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}r.b.prototype.interrupt=function(t){return this.each((function(){L(this,t)}))},r.b.prototype.transition=function(t){var n,e;t instanceof sn?(n=t._id,t=t._name):(n=cn(),(e=hn).time=x(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)(o=u[l])&&P(o,t,n,l,u,e||dn(o,n));return new sn(r,this._parents,t,n)};var pn=[null],gn=function(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>1&&e.name===n)return new sn([[t]],pn,n,+r);return null}},function(t){t.exports=JSON.parse('{"name":"d3-flextree","version":"2.1.2","main":"build/d3-flextree.js","module":"index","jsnext:main":"index","author":{"name":"Chris Maloney","url":"http://chrismaloney.org"},"description":"Flexible tree layout algorithm that allows for variable node sizes.","keywords":["d3","d3-module","layout","tree","hierarchy","d3-hierarchy","plugin","d3-plugin","infovis","visualization","2d"],"homepage":"https://github.com/klortho/d3-flextree","license":"WTFPL","repository":{"type":"git","url":"https://github.com/klortho/d3-flextree.git"},"scripts":{"clean":"rm -rf build demo test","build:demo":"rollup -c --environment BUILD:demo","build:dev":"rollup -c --environment BUILD:dev","build:prod":"rollup -c --environment BUILD:prod","build:test":"rollup -c --environment BUILD:test","build":"rollup -c","lint":"eslint index.js src","test:main":"node test/bundle.js","test:browser":"node test/browser-tests.js","test":"npm-run-all test:*","prepare":"npm-run-all clean build lint test"},"dependencies":{"d3-hierarchy":"^1.1.5"},"devDependencies":{"babel-plugin-external-helpers":"^6.22.0","babel-preset-es2015-rollup":"^3.0.0","d3":"^4.13.0","d3-selection-multi":"^1.0.1","eslint":"^4.19.1","jsdom":"^11.6.2","npm-run-all":"^4.1.2","rollup":"^0.55.3","rollup-plugin-babel":"^2.7.1","rollup-plugin-commonjs":"^8.0.2","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.0","rollup-plugin-node-resolve":"^3.0.2","rollup-plugin-uglify":"^3.0.0","uglify-es":"^3.3.9"}}')},function(t,n,e){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=t(n);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(var u=0;u<t.length;u++){var s=[].concat(t[u]);r&&i[s[0]]||(e&&(s[2]?s[2]="".concat(e," and ").concat(s[2]):s[2]=e),n.push(s))}},n}},function(t){t.exports=JSON.parse('[{"pointer":"","tag":"HEAD","data":"","tree":[{"pointer":"","tag":"SOUR","data":"Gramps","tree":[{"pointer":"","tag":"VERS","data":"5.2.3","tree":[]},{"pointer":"","tag":"NAME","data":"Gramps","tree":[]}]},{"pointer":"","tag":"DATE","data":"19 SEP 2024","tree":[{"pointer":"","tag":"TIME","data":"15:19:24","tree":[]}]},{"pointer":"","tag":"SUBM","data":"@SUBM@","tree":[]},{"pointer":"","tag":"FILE","data":"/home/anirudh/topoala-test.ged","tree":[]},{"pointer":"","tag":"COPR","data":"Copyright (c) 2024 .","tree":[]},{"pointer":"","tag":"GEDC","data":"","tree":[{"pointer":"","tag":"VERS","data":"5.5.1","tree":[]},{"pointer":"","tag":"FORM","data":"LINEAGE-LINKED","tree":[]}]},{"pointer":"","tag":"CHAR","data":"UTF-8","tree":[]},{"pointer":"","tag":"LANG","data":"English","tree":[]}]},{"pointer":"@SUBM@","tag":"SUBM","data":"","tree":[{"pointer":"","tag":"NAME","data":"","tree":[]}]},{"pointer":"@I0000@","tag":"INDI","data":"","tree":[{"pointer":"","tag":"NAME","data":"Anirudh Srivastha /Nemmani/","tree":[{"pointer":"","tag":"TYPE","data":"birth","tree":[]},{"pointer":"","tag":"GIVN","data":"Anirudh Srivastha","tree":[]},{"pointer":"","tag":"SURN","data":"Nemmani","tree":[]}]},{"pointer":"","tag":"SEX","data":"M","tree":[]},{"pointer":"","tag":"BIRT","data":"","tree":[{"pointer":"","tag":"DATE","data":"23 DEC 2001","tree":[]},{"pointer":"","tag":"PLAC","data":"Madanapalle","tree":[{"pointer":"","tag":"MAP","data":"","tree":[{"pointer":"","tag":"LATI","data":"N13.55","tree":[]},{"pointer":"","tag":"LONG","data":"E78.5","tree":[]}]}]},{"pointer":"","tag":"ADDR","data":"","tree":[{"pointer":"","tag":"CITY","data":"Madanapalle","tree":[]}]}]},{"pointer":"","tag":"FAMC","data":"@F0000@","tree":[{"pointer":"","tag":"PEDI","data":"birth","tree":[]}]},{"pointer":"","tag":"CHAN","data":"","tree":[{"pointer":"","tag":"DATE","data":"19 SEP 2024","tree":[{"pointer":"","tag":"TIME","data":"15:14:17","tree":[]}]}]}]},{"pointer":"@I0001@","tag":"INDI","data":"","tree":[{"pointer":"","tag":"NAME","data":"Vasudeva Prasad /Nemmani/","tree":[{"pointer":"","tag":"TYPE","data":"birth","tree":[]},{"pointer":"","tag":"GIVN","data":"Vasudeva Prasad","tree":[]},{"pointer":"","tag":"SURN","data":"Nemmani","tree":[]}]},{"pointer":"","tag":"SEX","data":"M","tree":[]},{"pointer":"","tag":"BIRT","data":"","tree":[{"pointer":"","tag":"DATE","data":"23 AUG 1962","tree":[]},{"pointer":"","tag":"PLAC","data":"Kuppam","tree":[]},{"pointer":"","tag":"ADDR","data":"","tree":[{"pointer":"","tag":"CITY","data":"Kuppam","tree":[]}]}]},{"pointer":"","tag":"FAMC","data":"@F0001@","tree":[{"pointer":"","tag":"PEDI","data":"birth","tree":[]}]},{"pointer":"","tag":"FAMS","data":"@F0000@","tree":[]},{"pointer":"","tag":"CHAN","data":"","tree":[{"pointer":"","tag":"DATE","data":"19 SEP 2024","tree":[{"pointer":"","tag":"TIME","data":"15:14:23","tree":[]}]}]}]},{"pointer":"@I0002@","tag":"INDI","data":"","tree":[{"pointer":"","tag":"NAME","data":"Aishwarya /Nemmani/","tree":[{"pointer":"","tag":"TYPE","data":"birth","tree":[]},{"pointer":"","tag":"GIVN","data":"Aishwarya","tree":[]},{"pointer":"","tag":"SURN","data":"Nemmani","tree":[]}]},{"pointer":"","tag":"SEX","data":"F","tree":[]},{"pointer":"","tag":"BIRT","data":"","tree":[{"pointer":"","tag":"DATE","data":"23 MAY 1996","tree":[]}]},{"pointer":"","tag":"DEAT","data":"","tree":[{"pointer":"","tag":"DATE","data":"NOV 2011","tree":[]}]},{"pointer":"","tag":"FAMC","data":"@F0000@","tree":[{"pointer":"","tag":"PEDI","data":"birth","tree":[]}]},{"pointer":"","tag":"CHAN","data":"","tree":[{"pointer":"","tag":"DATE","data":"19 SEP 2024","tree":[{"pointer":"","tag":"TIME","data":"15:14:17","tree":[]}]}]}]},{"pointer":"@I0003@","tag":"INDI","data":"","tree":[{"pointer":"","tag":"NAME","data":"Vijaya Lakshmi /Kurali/","tree":[{"pointer":"","tag":"TYPE","data":"birth","tree":[]},{"pointer":"","tag":"GIVN","data":"Vijaya Lakshmi","tree":[]},{"pointer":"","tag":"SURN","data":"Kurali","tree":[]}]},{"pointer":"","tag":"SEX","data":"F","tree":[]},{"pointer":"","tag":"BIRT","data":"","tree":[{"pointer":"","tag":"DATE","data":"6 DEC 1966","tree":[]}]},{"pointer":"","tag":"FAMS","data":"@F0000@","tree":[]},{"pointer":"","tag":"CHAN","data":"","tree":[{"pointer":"","tag":"DATE","data":"19 SEP 2024","tree":[{"pointer":"","tag":"TIME","data":"11:32:44","tree":[]}]}]}]},{"pointer":"@I0006@","tag":"INDI","data":"","tree":[{"pointer":"","tag":"NAME","data":"Narayanappa /Nemmani/","tree":[{"pointer":"","tag":"TYPE","data":"birth","tree":[]},{"pointer":"","tag":"GIVN","data":"Narayanappa","tree":[]},{"pointer":"","tag":"SURN","data":"Nemmani","tree":[]}]},{"pointer":"","tag":"SEX","data":"M","tree":[]},{"pointer":"","tag":"FAMS","data":"@F0001@","tree":[]},{"pointer":"","tag":"CHAN","data":"","tree":[{"pointer":"","tag":"DATE","data":"19 SEP 2024","tree":[{"pointer":"","tag":"TIME","data":"15:13:31","tree":[]}]}]}]},{"pointer":"@I0007@","tag":"INDI","data":"","tree":[{"pointer":"","tag":"NAME","data":"Vanajamma /Nemmani/","tree":[{"pointer":"","tag":"TYPE","data":"married","tree":[]},{"pointer":"","tag":"GIVN","data":"Vanajamma","tree":[]},{"pointer":"","tag":"SURN","data":"Nemmani","tree":[]}]},{"pointer":"","tag":"SEX","data":"F","tree":[]},{"pointer":"","tag":"FAMS","data":"@F0001@","tree":[]},{"pointer":"","tag":"CHAN","data":"","tree":[{"pointer":"","tag":"DATE","data":"19 SEP 2024","tree":[{"pointer":"","tag":"TIME","data":"15:13:31","tree":[]}]}]}]},{"pointer":"@F0000@","tag":"FAM","data":"","tree":[{"pointer":"","tag":"HUSB","data":"@I0001@","tree":[]},{"pointer":"","tag":"WIFE","data":"@I0003@","tree":[]},{"pointer":"","tag":"CHIL","data":"@I0000@","tree":[]},{"pointer":"","tag":"CHIL","data":"@I0002@","tree":[]},{"pointer":"","tag":"CHAN","data":"","tree":[{"pointer":"","tag":"DATE","data":"19 SEP 2024","tree":[{"pointer":"","tag":"TIME","data":"15:14:17","tree":[]}]}]}]},{"pointer":"@F0001@","tag":"FAM","data":"","tree":[{"pointer":"","tag":"HUSB","data":"@I0006@","tree":[]},{"pointer":"","tag":"WIFE","data":"@I0007@","tree":[]},{"pointer":"","tag":"CHIL","data":"@I0001@","tree":[]},{"pointer":"","tag":"CHAN","data":"","tree":[{"pointer":"","tag":"DATE","data":"19 SEP 2024","tree":[{"pointer":"","tag":"TIME","data":"15:14:23","tree":[]}]}]}]},{"pointer":"","tag":"TRLR","data":"","tree":[]}]')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,n,e){"use strict";e.r(n),Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function t(){var n=isNaN(arguments[0])?1:Number(arguments[0]);return n?Array.prototype.reduce.call(this,(function(e,r){return Array.isArray(r)?e.push.apply(e,t.call(r,n-1)):e.push(r),e}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(t){return Array.prototype.map.apply(this,arguments).flat()},writable:!0})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ChartColors=void 0,function(t){t[t.NO_COLOR=0]="NO_COLOR",t[t.COLOR_BY_GENERATION=1]="COLOR_BY_GENERATION",t[t.COLOR_BY_SEX=2]="COLOR_BY_SEX"}(n.ChartColors||(n.ChartColors={}))},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CircleRenderer=void 0;var r=function(){function t(t){this.options=t}return t.prototype.getFamilyAnchor=function(t){return[0,0]},t.prototype.getIndiAnchor=function(t){return[0,0]},t.prototype.getSpouseAnchor=function(t){return[0,0]},t.prototype.updateNodes=function(t){t.forEach((function(t){var n;n=t.data.family?[120,120]:[80,80],t.data.width=n[0],t.data.height=n[1]}))},t.prototype.getName=function(t){if(!t)return"";var n=this.options.data.getIndi(t.id).getFirstName();return n?n.split(" ")[0]:""},t.prototype.render=function(t,n){var e=this;t=t.append("g").attr("class","circle"),n=n.select("g"),t.append("circle").attr("r",(function(t){return t.data.width/2})).attr("cx",(function(t){return t.data.width/2})).attr("cy",(function(t){return t.data.height/2})),t.filter((function(t){return!!t.data.family})).append("text").attr("text-anchor","middle").attr("transform",(function(t){return"translate("+t.data.width/2+", "+(t.data.height/2-4)+")"})).text((function(t){return e.getName(t.data.indi)})),t.filter((function(t){return!!t.data.family})).append("text").attr("text-anchor","middle").attr("transform",(function(t){return"translate("+t.data.width/2+", "+(t.data.height/2+14)+")"})).text((function(t){return e.getName(t.data.spouse)})),t.filter((function(t){return!t.data.family})).append("text").attr("text-anchor","middle").attr("transform",(function(t){return"translate("+t.data.width/2+", "+(t.data.height/2+4)+")"})).text((function(t){return e.getName(t.data.indi)}))},t.prototype.getCss=function(){return"\n    circle {\n      fill: white;\n      stroke: #040;\n      stroke-width: 5px;\n    }\n    .circle text {\n      font-family: verdana, arial, sans-serif;\n      font-size: 12px;\n    }\n    .background {\n      stroke: none;\n    }\n    "},t}();n.CircleRenderer=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FancyChart=void 0;var r=e(7),i=e(6),a=e(17);var o=function(){function t(t){this.options=t,this.util=new i.ChartUtil(t)}return t.prototype.linkVertical=function(t,n){var e,r,i,a,o,u=this.options.renderer.getFamilyAnchor(t.data),s=t.id===n.data.spouseParentNodeId?this.options.renderer.getSpouseAnchor(n.data):this.options.renderer.getIndiAnchor(n.data),l=[t.x+u[0],t.y+u[1]],c=l[0],f=l[1],h=[n.x+s[0],n.y+s[1]];return r=h[1],o=(a=f)+110,(i=c)>(e=h[0])+100?"\n      M "+(e+10)+"       "+r+"\n      C "+(e+10)+"       "+(o+25)+"\n        "+(e+45)+"       "+(o+10)+"\n        "+(e+i)/2+" "+(o+5)+"\n        "+(i-45)+"       "+o+"\n        "+(i+2)+"        "+(o-25)+"\n        "+(i+2)+"        "+a+"\n      L "+(i-2)+"        "+a+"\n      C "+(i-2)+"        "+(o-25)+"\n        "+(i-45)+"       "+(o-10)+"\n        "+(e+i)/2+" "+(o-5)+"\n        "+(e+45)+"       "+o+"\n        "+(e-10)+"       "+(o+25)+"\n        "+(e-10)+"       "+r:i<e-100?"\n      M "+(e-10)+"       "+r+"\n      C "+(e-10)+"       "+(o+25)+"\n        "+(e-45)+"       "+(o+10)+"\n        "+(e+i)/2+" "+(o+5)+"\n        "+(i+45)+"       "+o+"\n        "+(i-2)+"        "+(o-25)+"\n        "+(i-2)+"        "+a+"\n      L "+(i+2)+"        "+a+"\n      C "+(i+2)+"        "+(o-25)+"\n        "+(i+45)+"       "+(o-10)+"\n        "+(e+i)/2+" "+(o-5)+"\n        "+(e-45)+"       "+o+"\n        "+(e+10)+"       "+(o+25)+"\n        "+(e+10)+"       "+r:"\n    M "+(e+10)+"       "+r+"\n    C "+(e+10)+"       "+(o+25)+"\n      "+(i+2)+"        "+(o-25)+"\n      "+(i+2)+"        "+a+"\n    L "+(i-2)+"        "+a+"\n    C "+(i-2)+"        "+(o-25)+"\n      "+(e-10)+"       "+(o+25)+"\n      "+(e-10)+"       "+r},t.prototype.linkAdditionalMarriage=function(t){var n=t.parent.children.findIndex((function(n){return n.id===t.id})),e=t.parent.children[n-1],r=this.options.renderer.getIndiAnchor(t.data),i=this.options.renderer.getIndiAnchor(e.data),a=[t.x+r[0],t.y+r[1]],o=a[0],u=a[1],s=[e.x+i[0],e.y+i[1]],l=s[0],c=s[1];return"M "+o+", "+(u+2)+"\n              L "+l+", "+(c+10)+"\n              "+l+", "+(c-10)+"\n              "+o+", "+(u-2)},t.prototype.renderBackground=function(t,n){n.select("g").append("rect").attr("x",-t.origin[0]).attr("y",-t.origin[1]).attr("width",t.size[0]).attr("height",t.origin[1]).attr("fill","#cff"),n.select("g").append("rect").attr("x",-t.origin[0]).attr("y",0).attr("width",t.size[0]).attr("height",t.size[1]-t.origin[1]).attr("fill","#494")},t.prototype.renderLeaves=function(t,n){var e=n.select("g").append("radialGradient").attr("id","gradient");e.append("stop").attr("offset","0%").attr("stop-color","#8f8"),e.append("stop").attr("offset","80%").attr("stop-color","#8f8").attr("stop-opacity",.5),e.append("stop").attr("offset","100%").attr("stop-color","#8f8").attr("stop-opacity",0);var i,o,u=t.filter((function(t){return t.parent&&t.parent.id!==a.DUMMY_ROOT_NODE_ID})),s=r.min(u,(function(t){return t.data.generation}))||0,l=function(t){return 280-180/Math.sqrt(1+t.data.generation-s)};(o=(i=n.select("g").selectAll("g.background").data(u,(function(t){return t.id}))).enter().append("g")).merge(i).attr("class","background").attr("transform",(function(t){return"translate("+(t.x-t.data.width/2)+", "+(t.y-t.data.height/2)+")"})),o.append("g").attr("class","background").append("circle").attr("class","background").attr("r",l).attr("cx",(function(t){return t.data.width/2})).attr("cy",(function(t){return t.data.height/2})).style("fill","#493"),(o=(i=n.select("g").selectAll("g.background2").data(u,(function(t){return t.id}))).enter().append("g")).merge(i).attr("class","background2").attr("transform",(function(t){return"translate("+(t.x-t.data.width/2)+", "+(t.y-t.data.height/2)+")"})),o.append("g").attr("class","background2").append("circle").attr("class","background").attr("r",l).attr("cx",(function(t){return t.data.width/2})).attr("cy",(function(t){return t.data.height/2})).style("fill","url(#gradient)")},t.prototype.renderLinks=function(t,n){var e=this,r=t.filter((function(t){return!!t.parent}));n.select("g").selectAll("path.branch").data(r,i.linkId).enter().append("path").attr("class",(function(t){return t.data.additionalMarriage?"branch additional-marriage":"branch"})).attr("d",(function(t){return n=t.parent,(r=t).data.additionalMarriage?e.linkAdditionalMarriage(r):e.linkVertical(r,n);var n,r}))},t.prototype.renderTreeTrunk=function(t,n){var e=t.filter((function(t){return!t.parent||t.parent.id===a.DUMMY_ROOT_NODE_ID}));n.select("g").selectAll("g.trunk").data(e,(function(t){return t.id})).enter().append("g").attr("class","trunk").attr("transform",(function(t){return"translate("+t.x+", "+t.y+")"})).append("path").attr("d","\n          M 10 20\n          L 10 40\n          C 10 60 10 90 40 90\n          L -40 90\n          C -10 90 -10 60 -10 40\n          L -10 20")},t.prototype.render=function(){var t=a.layOutDescendants(this.options,{flipVertically:!0,vSpacing:100}),n=i.getChartInfo(t);n.origin[0]+=150,n.origin[1]+=150,n.size[0]+=300,n.size[1]+=250;var e=this.util.getSvgForRendering();return e.append("style").text("\n      .branch, .trunk {\n        fill: #632;\n        stroke: #632;\n      }"),this.renderBackground(n,e),this.renderLeaves(t,e),this.renderLinks(t,e),this.renderTreeTrunk(t,e),this.util.renderNodes(t,e),this.util.updateSvgDimensions(n),Object.assign(n,{animationPromise:Promise.resolve()})},t}();n.FancyChart=o},function(t,n,e){"use strict";var r,i=this&&this.__extends||(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0}),n.DetailedRenderer=n.getLength=void 0;var a=e(0),o=e(12),u=e(39),s=e(7);e(42);var l=e(27),c=new Map;function f(t,n){var e=t+"|"+n;if(c.has(e))return c.get(e);var r=a.select("svg").append("g").attr("class","detailed node"),i=r.append("text").attr("class",n).text(t).node().getComputedTextLength();return r.remove(),c.set(e,i),i}n.getLength=f;var h=new Map([["F",""],["M",""]]),d=function(t){function n(n){var e=t.call(this,n)||this;return e.options=n,e}return i(n,t),n.prototype.getColoringClass=function(){switch(this.options.colors){case o.ChartColors.NO_COLOR:return"nocolor";case o.ChartColors.COLOR_BY_SEX:return"bysex";default:return"bygeneration"}},n.prototype.getIndiDetails=function(t){var n=[],e=t.getBirthDate()&&u.formatDateOrRange(t.getBirthDate(),this.options.locale),r=t.getBirthPlace(),i=t.getDeathDate()&&u.formatDateOrRange(t.getDeathDate(),this.options.locale),a=t.getDeathPlace();e&&n.push({symbol:"",text:e}),r&&n.push({symbol:"",text:r}),(e||r)&&(n[0].symbol="*");var o=n.length;return i&&n.push({symbol:"",text:i}),a&&n.push({symbol:"",text:a}),i||a?n[o].symbol="+":t.isConfirmedDeath()&&n.push({symbol:"+",text:""}),n},n.prototype.getFamDetails=function(t){var n=[],e=t.getMarriageDate()&&u.formatDateOrRange(t.getMarriageDate(),this.options.locale),r=t.getMarriagePlace();return e&&n.push({symbol:"",text:e}),r&&n.push({symbol:"",text:r}),(e||r)&&(n[0].symbol=""),n},n.prototype.getPreferredIndiSize=function(t){var n=this.options.data.getIndi(t),e=this.getIndiDetails(n),r=n.showId()||n.showSex()?14:0,i=s.max([44+14*e.length+r,n.getImageUrl()?90:0]),a=s.max(e.map((function(t){return f(t.text,"details")})));return[s.max([a+22,f(n.getFirstName()||"","name")+8,f(n.getLastName()||"","name")+8,f(t,"id")+32,64])+(n.getImageUrl()?70:0),i]},n.prototype.getPreferredFamSize=function(t){var n=this.options.data.getFam(t),e=this.getFamDetails(n),r=s.max([10+14*e.length,10]),i=s.max(e.map((function(t){return f(t.text,"details")})));return[s.max([i+22,15]),r]},n.prototype.render=function(t,n){var e=this;t=t.append("g").attr("class","detailed"),n=n.select("g");var r=t.merge(n).selectAll("g.indi").data((function(t){var n=[],r=!e.options.horizontal&&t.data.family?s.max([-l.getFamPositionVertical(t.data),0]):0,i=e.options.horizontal&&t.data.family?s.max([-l.getFamPositionHorizontal(t.data),0]):0;return t.data.indi&&n.push({indi:t.data.indi,generation:t.data.generation,xOffset:r,yOffset:0}),t.data.spouse&&n.push({indi:t.data.spouse,generation:t.data.generation,xOffset:!e.options.horizontal&&t.data.indi?t.data.indi.width+r:0,yOffset:e.options.horizontal&&t.data.indi?t.data.indi.height+i:0}),n}),(function(t){return t.indi.id})),i=r.enter().append("g").attr("class","indi");this.transition(i.merge(r)).attr("transform",(function(t){return"translate("+t.xOffset+", "+t.yOffset+")"})),this.renderIndi(i,r);var a=t.select((function(t){return t.data.family?this:null})).append("g").attr("class","family"),o=n.select((function(t){return t.data.family?this:null})).select("g.family");this.transition(a.merge(o)).attr("transform",(function(t){return e.getFamTransform(t.data)})),this.renderFamily(a,o)},n.prototype.getCss=function(){return"\n.detailed text {\n  font-family: verdana, arial, sans-serif;\n  font-size: 12px;\n}\n\n.detailed .name {\n  font-weight: bold;\n}\n\n.link {\n  fill: none;\n  stroke: #000;\n  stroke-width: 1px;\n}\n\n.additional-marriage {\n  stroke-dasharray: 2;\n}\n\n.detailed rect {\n  stroke: black;\n}\n\n.detailed {\n  stroke-width: 2px;\n}\n\n.detailed .details {\n  font-size: 10px;\n}\n\n.detailed .id {\n  font-size: 10px;\n  font-style: italic;\n}\n\n.detailed rect.nocolor {\n  fill: #ffffff;\n}\n\n.detailed rect.bysex {\n  fill: #eeeeee;\n}\n\n.detailed rect.bysex.male {\n  fill: #dbffff;\n}\n\n.detailed rect.bysex.female {\n  fill: #ffdbed;\n}\n\n.detailed rect.bygeneration {\n  fill: #ffffdd;\n}\n\n.generation-11 .detailed rect.bygeneration, .generation1 .detailed rect.bygeneration {\n  fill: #edffdb;\n}\n\n.generation-10 .detailed rect.bygeneration, .generation2 .detailed rect.bygeneration {\n  fill: #dbffdb;\n}\n\n.generation-9 .detailed rect.bygeneration, .generation3 .detailed rect.bygeneration {\n  fill: #dbffed;\n}\n\n.generation-8 .detailed rect.bygeneration, .generation4 .detailed rect.bygeneration {\n  fill: #dbffff;\n}\n\n.generation-7 .detailed rect.bygeneration, .generation5 .detailed rect.bygeneration {\n  fill: #dbedff;\n}\n\n.generation-6 .detailed rect.bygeneration, .generation6 .detailed rect.bygeneration {\n  fill: #dbdbff;\n}\n\n.generation-5 .detailed rect.bygeneration, .generation7 .detailed rect.bygeneration {\n  fill: #eddbff;\n}\n\n.generation-4 .detailed rect.bygeneration, .generation8 .detailed rect.bygeneration {\n  fill: #ffdbff;\n}\n\n.generation-3 .detailed rect.bygeneration, .generation9 .detailed rect.bygeneration {\n  fill: #ffdbed;\n}\n\n.generation-2 .detailed rect.bygeneration, .generation10 .detailed rect.bygeneration {\n  fill: #ffdbdb;\n}\n\n.generation-1 .detailed rect.bygeneration, .generation11 .detailed rect.bygeneration {\n  fill: #ffeddb;\n}"},n.prototype.transition=function(t){return this.options.animate?t.transition().delay(200).duration(500):t},n.prototype.getFamTransform=function(t){return this.options.horizontal?"translate("+(t.indi&&t.indi.width||t.spouse.width)+", "+s.max([l.getFamPositionHorizontal(t),0])+")":"translate("+s.max([l.getFamPositionVertical(t),0])+", "+(t.indi&&t.indi.height||t.spouse.height)+")"},n.prototype.getSexClass=function(t){var n;switch(null===(n=this.options.data.getIndi(t))||void 0===n?void 0:n.getSex()){case"M":return"male";case"F":return"female";default:return""}},n.prototype.renderIndi=function(t,n){var e=this;this.options.indiHrefFunc&&(t=t.append("a").attr("href",(function(t){return e.options.indiHrefFunc(t.indi.id)})),n=n.select("a")),this.options.indiCallback&&t.on("click",(function(t,n){return e.options.indiCallback({id:n.indi.id,generation:n.generation})}));var r=t.append("rect").attr("rx",5).attr("stroke-width",0).attr("class",(function(t){return"background "+e.getColoringClass()+" "+e.getSexClass(t.indi.id)})).merge(n.select("rect.background"));this.transition(r).attr("width",(function(t){return t.indi.width})).attr("height",(function(t){return t.indi.height}));var i=function(t){return"clip-"+t};t.append("clipPath").attr("id",(function(t){return i(t.indi.id)})).append("rect").attr("rx",5).merge(n.select("clipPath rect")).attr("width",(function(t){return t.indi.width})).attr("height",(function(t){return t.indi.height}));var a=function(t){return e.options.data.getIndi(t.indi.id)},o=function(t){return t.indi.width-(a(t).getImageUrl()?70:0)};t.append("text").attr("text-anchor","middle").attr("class","name").attr("transform",(function(t){return"translate("+o(t)/2+", 17)"})).text((function(t){return a(t).getFirstName()})),t.append("text").attr("text-anchor","middle").attr("class","name").attr("transform",(function(t){return"translate("+o(t)/2+", 33)"})).text((function(t){return a(t).getLastName()}));var u=new Map;t.each((function(t){var n=a(t),r=e.getIndiDetails(n);u.set(t.indi.id,r)}));for(var l=s.max(Array.from(u.values(),(function(t){return t.length}))),c=function(n){var e=t.filter((function(t){return u.get(t.indi.id).length>n}));e.append("text").attr("text-anchor","middle").attr("class","details").attr("transform","translate(9, "+(49+14*n)+")").text((function(t){return u.get(t.indi.id)[n].symbol})),e.append("text").attr("class","details").attr("transform","translate(15, "+(49+14*n)+")").text((function(t){return u.get(t.indi.id)[n].text}))},f=0;f<l;++f)c(f);var d=t.append("text").attr("class","id").text((function(t){return a(t).showId()?t.indi.id:""})).merge(n.select("text.id"));this.transition(d).attr("transform",(function(t){return"translate(9, "+(t.indi.height-5)+")"}));var p=t.append("text").attr("class","details sex").attr("text-anchor","end").text((function(t){var n=h.get(a(t).getSex()||"")||"";return a(t).showSex()?n:""})).merge(n.select("text.sex"));this.transition(p).attr("transform",(function(t){return"translate("+(o(t)-5)+", "+(t.indi.height-5)+")"})),t.filter((function(t){return!!a(t).getImageUrl()})).append("image").attr("width",70).attr("height",(function(t){return t.indi.height})).attr("preserveAspectRatio","xMidYMin").attr("transform",(function(t){return"translate("+(t.indi.width-70)+", 0)"})).attr("clip-path",(function(t){return"url(#"+i(t.indi.id)+")"})).attr("href",(function(t){return a(t).getImageUrl()}));var g=t.append("rect").attr("rx",5).attr("fill-opacity",0).attr("class","border").merge(n.select("rect.border"));this.transition(g).attr("width",(function(t){return t.indi.width})).attr("height",(function(t){return t.indi.height}))},n.prototype.renderFamily=function(t,n){var e=this;this.options.famHrefFunc&&(t=t.append("a").attr("href",(function(t){return e.options.famHrefFunc(t.data.family.id)}))),this.options.famCallback&&t.on("click",(function(t,n){return e.options.famCallback({id:n.data.family.id,generation:n.data.generation})}));var r=new Map;t.each((function(t){var n=t.data.family.id,i=e.options.data.getFam(n),a=e.getFamDetails(i);r.set(n,a)}));var i=s.max(Array.from(r.values(),(function(t){return t.length})));t.filter((function(t){return 0<r.get(t.data.family.id).length})).append("rect").attr("class",this.getColoringClass()).attr("rx",5).attr("ry",5).attr("width",(function(t){return t.data.family.width})).attr("height",(function(t){return t.data.family.height}));for(var a=function(n){var e=t.filter((function(t){return r.get(t.data.family.id).length>n}));e.append("text").attr("text-anchor","middle").attr("class","details").attr("transform","translate(9, "+(16+14*n)+")").text((function(t){return r.get(t.data.family.id)[n].symbol})),e.append("text").attr("text-anchor","start").attr("class","details").attr("transform","translate(15, "+(16+14*n)+")").text((function(t){return r.get(t.data.family.id)[n].text}))},o=0;o<i;++o)a(o)},n}(l.CompositeRenderer);n.DetailedRenderer=d},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.gedcomEntriesToJson=n.gedcomToJson=n.getDate=void 0;var r=e(130);function i(t,n){return t.find((function(t){return t.tag===n}))}function a(t,n){return t.filter((function(t){return t.tag===n}))}function o(t){return t.substring(1,t.length-1)}function u(t){var n=t.split("/");return 1===n.length?{firstName:n[0].trim()}:{firstName:n[0].trim(),lastName:n[1].trim()}}var s=new Map([["jan",1],["feb",2],["mar",3],["apr",4],["may",5],["jun",6],["jul",7],["aug",8],["sep",9],["oct",10],["nov",11],["dec",12]]);function l(t){if(t&&t.length){var n={};if(t[0].startsWith("(")&&t[t.length-1].endsWith(")")){t[0]=t[0].substring(1);var e=t[t.length-1];t[t.length-1]=e.substring(0,e.length-1)}var r=t.join(" "),i=t[0].toLowerCase();if("cal"!==i&&"abt"!==i&&"est"!==i||(n.qualifier=i,t=t.slice(1)),t.length&&t[t.length-1].match(/^\d{1,4}$/)&&(n.year=Number(t[t.length-1]),t=t.slice(0,t.length-1)),t.length){e=t[t.length-1].toLowerCase();s.has(e)&&(n.month=s.get(e),t=t.slice(0,t.length-1))}return t.length&&t[0].match(/^\d\d?$/)&&(n.day=Number(t[0]),t=t.slice(0,t.length-1)),t.length?{text:r}:n}}function c(t){var n=t.replace(/@.*@/,"").trim().split(" "),e=n[0].toLowerCase();if(e.startsWith("bet")){var r=n.findIndex((function(t){return"and"===t.toLowerCase()}));return{dateRange:{from:l(n.slice(1,r)),to:l(n.slice(r+1))}}}if(e.startsWith("bef")||e.startsWith("aft")){var i=l(n.slice(1));return e.startsWith("bef")?{dateRange:{to:i}}:{dateRange:{from:i}}}var a=l(n);if(a)return{date:a}}function f(t){if(t&&"NOTE"===t.tag)return a(t.tree,"CONT").filter((function(t){return t.data})).reduce((function(t,n){return t.concat(n.data)}),[t.data])}function h(t){if(t){var n=i(t.tree,"TYPE"),e=i(t.tree,"DATE"),r=i(t.tree,"PLAC"),a=e&&e.data&&c(e.data),o=r&&r.data;if(a||o){var u=a||{};return o&&(u.place=o),u.confirmed=!0,u.type=n?n.data:void 0,u.notes=f(i(t.tree,"NOTE")),u}return t.data&&"y"===t.data.toLowerCase()?{confirmed:!0}:void 0}}function d(t){var n={id:o(t.pointer),children:a(t.tree,"CHIL").map((function(t){return o(t.data)}))},e=i(t.tree,"HUSB");e&&(n.husb=o(e.data));var r=i(t.tree,"WIFE");r&&(n.wife=o(r.data));var u=h(i(t.tree,"MARR"));return u&&(n.marriage=u),n}function p(t){var n,e=(n=a(t,"OBJE"),new Map(n.map((function(t){return[o(t.pointer),t]}))));return{indis:a(t,"INDI").map((function(t){return function(t,n){var e={id:o(t.pointer),fams:a(t.tree,"FAMS").map((function(t){return o(t.data)}))},r=a(t.tree,"NAME"),s=function(t){var n=i(t.tree,"TYPE");return void 0!==n&&"maiden"===n.data},l=r.find((function(t){return!s(t)})),c=r.find(s);if(l){var d=u(l.data),p=d.firstName,g=d.lastName;p&&(e.firstName=p),g&&(e.lastName=g)}if(c){var y=u(c.data);p=y.firstName;(g=y.lastName)&&(e.maidenName=g),p&&!e.firstName&&(e.firstName=p)}var v=i(t.tree,"NCHI");v&&(e.numberOfChildren=+v.data);var m=i(t.tree,"NMR");m&&(e.numberOfMarriages=+m.data);var w=i(t.tree,"SEX");w&&(e.sex=w.data);var _=i(t.tree,"FAMC");_&&(e.famc=o(_.data));var x=a(t.tree,"OBJE");if(x.length>0){e.images=x.map((function(t){var e=t.data?n.get(o(t.data)):t;if(e){var r=i(e.tree,"FILE"),a=i(e.tree,"TITL");if(r)return{url:r.data,title:a&&a.data}}})).filter((function(t){return void 0!==t}))}var b=h(i(t.tree,"BIRT"));b&&(e.birth=b);var A=h(i(t.tree,"DEAT"));return A&&(e.death=A),e.notes=f(i(t.tree,"NOTE")),e.events=a(t.tree,"EVEN").map(h).filter((function(t){return null!==t})),e}(t,e)})),fams:a(t,"FAM").map(d)}}n.getDate=c,n.gedcomToJson=function(t){return p(r.parse(t))},n.gedcomEntriesToJson=p},function(t,n,e){var r=e(131),i=/\s*(0|[1-9]+[0-9]*) (@[^@]+@ |)([A-Za-z0-9_]+)( [^\n\r]*|)/;t.exports.parse=function(t){var n={root:{tree:[]},level:0};n.pointer=n.root;var e=t.split("\n").map((function(t){var n=t.match(i);return n?{level:parseInt(n[1],10),pointer:n[2].trim(),tag:n[3].trim(),data:n[4].trimLeft(),tree:[]}:null})).filter((function(t){return t})).reduce((function(t,n){if(n.level===t.level)t.pointer.tree.push(n);else if(n.level>t.level){var e=t.pointer;t.pointer=t.pointer.tree[t.pointer.tree.length-1],t.pointer.tree.push(n),t.pointer.up=e,t.level=n.level}else if(n.level<t.level){for(;n.level<=t.pointer.level&&t.pointer.up;)t.pointer=t.pointer.up;t.pointer.tree.push(n),t.level=n.level}return t}),n).root;return r(e,(function(t){delete t.up,delete t.level}),{getChildren:function(t){return t.tree}}),e.tree},t.exports.d3ize=e(132)},function(t,n,e){t.exports=function(){"use strict";function t(t,n){this.flags=t,this.cursor=n}function n(n,e){return new t(n,e)}function e(t){this.xs=[t],this.top=0}function r(t){return new e(t)}function i(){this.depth=0,this.stack=r({node:null,index:-1})}function a(){return new i}function o(){this.break=!1,this.skip=!1,this.remove=!1,this.replace=null}function u(){return new o}function s(t){return t&&0!==t.length}function l(t){this.xs=[t],this.top=0,this.maxLength=0}function c(t){return new l(t)}function f(){this.depth=0,this.index=-1,this.queue=c({node:null,arity:1}),this.levelNodes=1,this.nextLevelNodes=0}function h(t,e,r){for(var i=u(),a=new f,o=n(i,a),l=c(t);!l.isEmpty();){var h=l.dequeue();if(i.reset(),e(h,o),i.break)break;if(!i.remove&&(a.moveNext(),i.replace&&(h=i.replace),!i.skip)){var d=r(h);s(d)&&(l.enqueueMultiple(d),a.store(h,d.length))}a.moveForward()}}t.prototype={skip:function(){this.flags.skip=!0},break:function(){this.flags.break=!0},remove:function(){this.flags.remove=!0},replace:function(t){this.flags.replace=t},get parent(){return this.cursor.parent},get depth(){return this.cursor.depth},get level(){return this.cursor.depth+1},get index(){return this.cursor.index}},e.prototype={push:function(t){this.top++,this.top<this.xs.length?this.xs[this.top]=t:this.xs.push(t)},pushArrayReverse:function(t){for(var n=t.length-1;n>=0;n--)this.push(t[n])},pop:function(){var t=this.peek();return this.top--,t},peek:function(){return this.xs[this.top]},isEmpty:function(){return-1===this.top}},i.prototype={moveDown:function(t){this.depth++,this.stack.push({node:t,index:0})},moveUp:function(){this.depth--,this.stack.pop()},moveNext:function(){this.stack.peek().index++},get parent(){return this.stack.peek().node},get index(){return this.stack.peek().index}},o.prototype={reset:function(){this.break=!1,this.skip=!1,this.remove=!1,this.replace=null}},l.prototype={enqueue:function(t){this.xs.push(t)},enqueueMultiple:function(t){for(var n=0,e=t.length;n<e;n++)this.enqueue(t[n])},dequeue:function(){var t=this.peek();return this.top++,32768===this.top&&(this.xs=this.xs.slice(this.top),this.top=0),t},peek:function(){return this.xs[this.top]},isEmpty:function(){return this.top===this.xs.length}},f.prototype={store:function(t,n){this.queue.enqueue({node:t,arity:n}),this.nextLevelNodes+=n},moveNext:function(){this.index++},moveForward:function(){this.queue.peek().arity--,this.levelNodes--,0===this.queue.peek().arity&&(this.index=0,this.queue.dequeue()),0===this.levelNodes&&(this.depth++,this.levelNodes=this.nextLevelNodes,this.nextLevelNodes=0)},get parent(){return this.queue.peek().node}};var d=function(t){return t.children};return function(t,e,i){if(null!=t){var o=(i=i||{}).order||"pre",l=i.getChildren||d;"pre"===o?function(t,e,i){for(var o=u(),l=a(),c=n(o,l),f=r(t),h=Object.assign({},t);!f.isEmpty();){var d=f.pop();if(d!==h){if(o.reset(),e(d,c),o.break)break;if(!o.remove&&(l.moveNext(),!o.skip)){o.replace&&(d=o.replace);var p=i(d);s(p)&&(f.push(h),f.pushArrayReverse(p),l.moveDown(d))}}else l.moveUp()}}(t,e,l):"post"===o?function(t,e,i){for(var o=u(),l=a(),c=n(o,l),f=r(t),h=r(null);!f.isEmpty();){var d=f.peek(),p=h.peek(),g=i(d);if(o.reset(),d!==p&&s(g))h.push(d),l.moveDown(d),f.pushArrayReverse(g);else{if(d===p&&(h.pop(),l.moveUp()),f.pop(),e(d,c),o.break)break;if(o.remove)continue;l.moveNext()}}}(t,e,l):"bfs"===o&&h(t,e,l)}}}()},function(t,n){function e(t){return function(n){return n.tag===t}}function r(t){return t.id=t.pointer,t.name=function(t){if("INDI"===t.tag){var n=(t.tree.filter(e("NAME"))||[])[0];return n?n.data.replace(/\//g,""):"?"}return"Family"}(t),t}t.exports=function(t){var n=t.filter(e("INDI")).map(r),i=t.filter(e("FAM")),a=i.map(r),o=i.reduce((function(t,n){return t.concat(function(t){return t.tree.filter((function(t){return t.data&&"@"===t.data[0]})).map((function(n){return{source:t.pointer,target:n.data}}))}(n))}),[]),u=n.concat(a),s=u.reduce((function(t,n,e){return t[n.id]=e,t}),{});return{nodes:u,links:o=o.map(function(t){return function(n){function e(n){return t[n]}return{source:e(n.source),target:e(n.target)}}}(s))}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HourglassChart=void 0;var r=e(26),i=e(6),a=e(17),o=function(){function t(t){this.options=t,this.util=new i.ChartUtil(t)}return t.prototype.render=function(){var t=r.getAncestorsTree(this.options),n=this.util.layOutChart(t,{flipVertically:!0}),e=a.layOutDescendants(this.options),o=n.slice(1).concat(e),u=this.util.renderChart(o),s=i.getChartInfo(o);return this.util.updateSvgDimensions(s),Object.assign(s,{animationPromise:u})},t}();n.HourglassChart=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.KinshipChart=void 0;var r=e(135),i=e(136),a=function(){function t(t){this.options=t,this.renderer=new r.KinshipChartRenderer(this.options)}return t.prototype.render=function(){var t=this,n=i.HierarchyCreator.createHierarchy(this.options.data,new i.EntryId(this.options.startIndi||null,this.options.startFam||null)),e=this.renderer.layOut(n.upRoot,n.downRoot),r=e[0],a=e[1];return r.concat(a).forEach((function(n){t.setChildNodesGenerationNumber(n)})),this.renderer.render(r,a,i.getRootsCount(n.upRoot,this.options.data))},t.prototype.setChildNodesGenerationNumber=function(t){var n=this.getChildNodesByType(t),e=function(n,e){return n.forEach((function(n){return n.data.generation=t.data.generation+e}))};e(n.indiParents,-1),e(n.indiSiblings,0),e(n.spouseParents,-1),e(n.spouseSiblings,0),e(n.children,1)},t.prototype.getChildNodesByType=function(t){if(!t||!t.children)return o;var n=new Map(t.children.map((function(t){return[t.data.id,t]}))),e=function(t){return n.get(t.id)},r=t.data.childNodes;return{indiParents:r.indiParents.map(e),indiSiblings:r.indiSiblings.map(e),spouseParents:r.spouseParents.map(e),spouseSiblings:r.spouseSiblings.map(e),children:r.children.map(e)}},t}();n.KinshipChart=a;var o={indiParents:[],indiSiblings:[],spouseParents:[],spouseSiblings:[],children:[]}},function(t,n,e){"use strict";var r=this&&this.__spreadArray||function(t,n){for(var e=0,r=n.length,i=t.length;e<r;e++,i++)t[i]=n[e];return t};Object.defineProperty(n,"__esModule",{value:!0}),n.KinshipChartRenderer=void 0;var i=e(7),a=e(40),o=e(6),u=e(41),s=function(){function t(t){this.options=t,this.util=new o.ChartUtil(this.options)}return t.prototype.layOut=function(t,n){var e=this.util.getSvgForRendering();return e.select("style").empty()&&e.append("style").text(this.options.renderer.getCss()),[this.util.layOutChart(t,{flipVertically:!0}),this.util.layOutChart(n)]},t.prototype.render=function(t,n,e){var r=this,i=t.concat(n),a=i.slice(1);t.forEach((function(t){return r.setLinkYs(t,!0)})),n.forEach((function(t){return r.setLinkYs(t,!1)}));var u=this.util.renderNodes(a,this.util.getSvgForRendering());this.renderLinks(i),e>1&&this.renderRootDummyAdditionalMarriageLinkStub(i[0]);var s=o.getChartInfo(a);return this.util.updateSvgDimensions(s),Object.assign(s,{animationPromise:u})},t.prototype.renderLinks=function(t){var n=this,e=this.util.getSvgForRendering().select("g"),r=function(t){return t.data.id},i=e.selectAll("path.internode-link").data(t.filter((function(t){return!!t.parent})),r);i.enter().insert("path","g").attr("class",(function(t){return n.cssClassForLink(t)})).merge(i).attr("d",(function(t){var e=t.data.primaryMarriage?n.additionalMarriageLinkPoints(t):n.linkPoints(t.parent,t,t.data.linkFromParentType);return u.points2pathd(e)})),i.exit().remove();var a=e.selectAll("g.link-stubs").data(t.filter((function(t){return t.data.duplicateOf||t.data.duplicated||t.data.primaryMarriage})),r),o=a.enter().insert("g","g").attr("class","link-stubs");a.exit().remove();var s=o.merge(a).selectAll("g").data((function(t){return n.nodeToLinkStubRenderInfos(t)}),(function(t){return t.linkType.toString()}));s.enter().append("g").call((function(t){return t.append("path").attr("class",(function(t){return n.cssClassForLinkStub(t.linkType)})).merge(s.select("path.link-stub")).attr("d",(function(t){return u.points2pathd(t.points)}))})).call((function(t){return t.append("circle").attr("r",3).style("stroke","black").style("fill","none").merge(s.select("circle")).attr("transform",(function(t){return"translate("+u.last(t.points).x+", "+(u.last(t.points).y+3*t.treeDir)+")"}))})),s.exit().remove()},t.prototype.cssClassForLink=function(t){return t.data.primaryMarriage?"link internode-link additional-marriage":"link internode-link "+this.cssClassForLinkType(t.data.linkFromParentType)},t.prototype.cssClassForLinkStub=function(t){return"link link-stub "+this.cssClassForLinkType(t)},t.prototype.cssClassForLinkType=function(t){switch(t){case a.LinkType.IndiParents:case a.LinkType.SpouseParents:return"parents-link";case a.LinkType.IndiSiblings:case a.LinkType.SpouseSiblings:return"siblings-link";case a.LinkType.Children:return"children-link"}},t.prototype.nodeToLinkStubRenderInfos=function(t){var n=this;return t.data.linkStubs.map((function(e){var i=t.y<t.parent.y,a=i?-1:1,o=n.linkAnchorPoints(t,e,i),s=t.data.linkYs.children-18*a;return{treeDir:a,linkType:e,points:r(r([],o),[{x:u.last(o).x,y:s}])}}))},t.prototype.getLinkY=function(t,n){switch(n){case a.LinkType.IndiParents:case a.LinkType.IndiSiblings:return t.data.linkYs.indi;case a.LinkType.SpouseParents:case a.LinkType.SpouseSiblings:return t.data.linkYs.spouse;case a.LinkType.Children:return t.data.linkYs.children}},t.prototype.setLinkYs=function(t,n){var e=n?-1:1,r=t.y+(t.data.height/2+17)*e,i=6*e,a=this.calcLinkOffsetDirs(t),o=a[0],u=a[1];t.data.linkYs={indi:r+i*o,spouse:r+i*u,children:r}},t.prototype.calcLinkOffsetDirs=function(t){var n=t.data.childNodes;if(n.children.length){var e=this.linkAnchorPoints(t,a.LinkType.IndiParents,!0)[0].x,r=this.linkAnchorPoints(t,a.LinkType.SpouseParents,!0)[0].x,i={min:this.findMinXOfChildNodesAnchors(t,n.children),max:this.findMaxXOfChildNodesAnchors(t,n.children)};if(i.min<e&&i.max>r)return[-1,-1];if(i.min<e)return[-1,1];if(i.max>r)return[1,-1]}else if((n.indiParents.length||n.indiSiblings.length)&&(n.spouseParents.length||n.spouseSiblings.length)){e=this.linkAnchorPoints(t,a.LinkType.IndiParents,!0)[0].x;if(this.findMinXOfChildNodesAnchors(t,n.spouseSiblings.concat(n.spouseParents))<e)return[-1,1]}return[1,-1]},t.prototype.findMinXOfChildNodesAnchors=function(t,n){return this.findExtremeXOfChildNodesAnchors(t,n,!0)},t.prototype.findMaxXOfChildNodesAnchors=function(t,n){return this.findExtremeXOfChildNodesAnchors(t,n,!1)},t.prototype.findExtremeXOfChildNodesAnchors=function(t,n,e){var r=e?i.min:i.max,a=e?-1:1,o=new Set(n);return r(t.children.filter((function(t){return o.has(t.data)})),(function(t){return t.x+a*t.data.width/2}))+7*a},t.prototype.linkPoints=function(t,n,e){var i=t.y>n.y,o=this.linkAnchorPoints(t,e,i),u=this.linkAnchorPoints(n,a.otherSideLinkType(e),!i).reverse(),s=this.getLinkY(t,e);return r(r(r([],o),[{x:o[o.length-1].x,y:s},{x:u[0].x,y:s}]),u)},t.prototype.additionalMarriageLinkPoints=function(t){var n=t.parent.children.findIndex((function(n){return n.data.id===t.data.id})),e=t.parent.children[n-1],r=this.indiMidY(t);return[{x:e.x,y:r},{x:t.x,y:r}]},t.prototype.linkAnchorPoints=function(t,n,e){var r=[t.x,t.y],i=r[0],o=r[1],u=[t.data.width,t.data.height],s=u[0],l=u[1],c=i-s/2,f=i+s/2,h=[t.data.indi,t.data.spouse,t.data.family].map((function(t){return t?t.width:0})),d=h[0],p=h[1],g=h[2],y=d+p,v=i-s/2+(g>y?(g-y)/2:0),m=v+y,w=this.indiMidY(t)+5*(e?-1:1);switch(n){case a.LinkType.IndiParents:return[{x:v+15,y:o-l/2}];case a.LinkType.SpouseParents:return[{x:m-15,y:o-l/2}];case a.LinkType.IndiSiblings:return[{x:v,y:w},{x:(g>y&&!e?c:v)-7,y:w}];case a.LinkType.SpouseSiblings:return[{x:m,y:w},{x:(g>y&&!e?f:m)+7,y:w}];case a.LinkType.Children:return[{x:v+(t.data.spouse?d:d/2),y:o}]}},t.prototype.indiMidY=function(t){return t.y-t.data.height/2+t.data.indi.height/2},t.prototype.renderRootDummyAdditionalMarriageLinkStub=function(t){var n=this.util.getSvgForRendering().select("g"),e=this.indiMidY(t),r=t.data.width/2+20;n.selectAll(".root-dummy-additional-marriage").remove(),n.insert("g","g").attr("class","root-dummy-additional-marriage").call((function(t){return t.append("path").attr("d","M 0 "+e+" L "+r+" "+e).attr("class","link additional-marriage")})).call((function(t){return t.append("circle").attr("transform","translate("+(r+3)+", "+e+")").attr("r",3).style("stroke","black").style("fill","black")}))},t}();n.KinshipChartRenderer=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getRootsCount=n.EntryId=n.HierarchyCreator=void 0;var r=e(40),i=e(28),a=e(137),o=e(16),u=e(41),s=function(){function t(t,n){var e;this.data=t,this.queuedNodesById=new Map,this.idGenerator=new o.IdGenerator,e=this.expandStartId(n),this.startEntryId=e[0],this.startFamIndi=e[1]}return t.createHierarchy=function(n,e){return new t(n,e).createHierarchy()},t.prototype.expandStartId=function(t){if(t.isFam)return[t,null];var n=this.data.getIndi(t.id);if(!n)throw new Error("Invalid startId");var e=n.getFamiliesAsSpouse();return e.length?[l.fam(e[0]),t.id]:[t,null]},t.prototype.createHierarchy=function(){var n=this.idToNode(this.startEntryId,null,null,!1),e=this.idToNode(this.startEntryId,null,null,!1);if(!n||!e)throw new Error("Invalid root node");this.startFamIndi&&(n.indi={id:this.startFamIndi},e.indi={id:this.startFamIndi});for(var r=[n,e];r.length;){var a=r.shift(),o=a===n?t.UP_FILTER:a===e?t.DOWN_FILTER:t.ALL_ACCEPTING_FILTER;this.fillNodeData(a,o);for(var u=0,s=a.childNodes.getAll();u<s.length;u++){var l=s[u];r.push(l)}}var c=function(t){var n=t.childNodes.getAll();return n.length?n:null};return{upRoot:i.hierarchy(n,c),downRoot:i.hierarchy(e,c)}},t.prototype.fillNodeData=function(t,n){if(this.isFamNode(t)){var e=this.data.getFam(t.id),r=t.indi&&t.indi.id===e.getMother()?[e.getMother(),e.getFather()]:[e.getFather(),e.getMother()],i=r[0],a=r[1];Object.assign(t,{id:this.idGenerator.getId(t.id),indi:i&&{id:i},spouse:a&&{id:a}}),t.duplicateOf||t.duplicated||(t.childNodes=this.childNodesForFam(e,t,n))}else{var o=this.data.getIndi(t.id);Object.assign(t,{id:this.idGenerator.getId(t.id),indi:{id:o.getId()}}),t.duplicateOf||t.duplicated||(t.childNodes=this.childNodesForIndi(o,t,n))}t.linkStubs=this.createLinkStubs(t)},t.prototype.childNodesForFam=function(t,n,e){var i=n.indi?this.data.getIndi(n.indi.id):null,a=n.spouse?this.data.getIndi(n.spouse.id):null,o=this.getParentsAndSiblings(i),u=o[0],s=o[1],l=this.getParentsAndSiblings(a),c=l[0],f=l[1],h=t.getChildren();return new r.ChildNodes({indiParents:e.indiParents?this.famAsSpouseIdsToNodes(u,n,r.LinkType.IndiParents):[],indiSiblings:e.indiSiblings?this.indiIdsToFamAsSpouseNodes(s,n,r.LinkType.IndiSiblings):[],spouseParents:e.spouseParents?this.famAsSpouseIdsToNodes(c,n,r.LinkType.SpouseParents):[],spouseSiblings:e.spouseSiblings?this.indiIdsToFamAsSpouseNodes(f,n,r.LinkType.SpouseSiblings):[],children:e.children?this.indiIdsToFamAsSpouseNodes(h,n,r.LinkType.Children):[]})},t.prototype.childNodesForIndi=function(t,n,e){var i=this.getParentsAndSiblings(t),a=i[0],o=i[1];return new r.ChildNodes({indiParents:e.indiParents?this.famAsSpouseIdsToNodes(a,n,r.LinkType.IndiParents):[],indiSiblings:e.indiSiblings?this.indiIdsToFamAsSpouseNodes(o,n,r.LinkType.IndiSiblings):[]})},t.prototype.areParentsAndSiblingsPresent=function(t){var n=t&&this.data.getIndi(t),e=n&&n.getFamilyAsChild(),r=e&&this.data.getFam(e);return r?[!(!r.getFather()&&!r.getMother()),r.getChildren().length>1]:[!1,!1]},t.prototype.getParentsAndSiblings=function(t){var n=t&&t.getFamilyAsChild(),e=this.data.getFam(n);if(!e)return[[],[]];var r=this.data.getIndi(e.getFather()),i=this.data.getIndi(e.getMother()),a=[].concat(r?r.getFamiliesAsSpouse():[],i?i.getFamiliesAsSpouse():[]).filter((function(t){return t!==n}));a.unshift(n);var o=Array.from(e.getChildren());return o.splice(o.indexOf(t.getId()),1),[a,o]},t.prototype.indiIdsToFamAsSpouseNodes=function(t,n,e){var r=this;return t.flatMap((function(t){return r.indiIdToFamAsSpouseNodes(t,n,e)}))},t.prototype.indiIdToFamAsSpouseNodes=function(t,n,e){var i=this;if(this.isChildNodeTypeForbidden(e,n))return[];var a=this.data.getIndi(t).getFamiliesAsSpouse();if(!a.length){var o=this.idToNode(l.indi(t),n,e);return o?[o]:[]}var u=a.map((function(i){return{id:i,indi:{id:t},family:{id:i},parentNode:n,linkFromParentType:e,childNodes:r.ChildNodes.EMPTY,linkStubs:[]}}));return u.forEach((function(t,n){0!==n&&(t.primaryMarriage=u[0]);var e=i.queuedNodesById.get(t.id);e?(t.duplicateOf=e,e.duplicated=!0):i.queuedNodesById.set(t.id,t)})),u},t.prototype.famAsSpouseIdsToNodes=function(t,n,e){var r=this.idsToNodes(t.map(l.fam),n,e);return r.slice(1).forEach((function(t){return t.primaryMarriage=r[0]})),r},t.prototype.idsToNodes=function(t,n,e,r){var i=this;return void 0===r&&(r=!0),t.map((function(t){return i.idToNode(t,n,e,r)})).filter((function(t){return null!=t}))},t.prototype.idToNode=function(t,n,e,i){if(void 0===i&&(i=!0),this.isChildNodeTypeForbidden(e,n))return null;var a=t.id,o=t.isFam;if(o){var u=this.data.getFam(a);if(!u||!u.getFather()&&!u.getMother())return null}var s=this.queuedNodesById.get(a),l={id:a,parentNode:n,linkFromParentType:e,childNodes:r.ChildNodes.EMPTY,linkStubs:[]};return o&&(l.family={id:a}),i&&s&&(l.duplicateOf=s,s.duplicated=!0),s||this.queuedNodesById.set(a,l),l},t.prototype.createLinkStubs=function(t){var n=this;if(!this.isFamNode(t)||!t.duplicateOf&&!t.duplicated&&!t.primaryMarriage)return[];var e=this.data.getFam(t.family.id),i=this.areParentsAndSiblingsPresent(t.indi?t.indi.id:null),a=i[0],o=i[1],s=this.areParentsAndSiblingsPresent(t.spouse?t.spouse.id:null),l=s[0],c=s[1],f=u.nonEmpty(e.getChildren());return[a?[r.LinkType.IndiParents]:[],o?[r.LinkType.IndiSiblings]:[],l?[r.LinkType.SpouseParents]:[],c?[r.LinkType.SpouseSiblings]:[],f?[r.LinkType.Children]:[]].flat().filter((function(e){return!n.isChildNodeTypeForbidden(e,t)&&!t.childNodes.get(e).length}))},t.prototype.isChildNodeTypeForbidden=function(t,n){if(null===t||!n)return!1;switch(r.otherSideLinkType(n.linkFromParentType)){case r.LinkType.IndiParents:case r.LinkType.IndiSiblings:if(t===r.LinkType.IndiParents||t===r.LinkType.IndiSiblings)return!0;break;case r.LinkType.Children:if(!n.primaryMarriage&&t===r.LinkType.Children)return!0}if(n.primaryMarriage){var e=n.indi.id,i=n.spouse.id,a=n.primaryMarriage.indi.id,o=n.primaryMarriage.spouse.id;if(e===a||e===o){if(t===r.LinkType.IndiParents||t===r.LinkType.IndiSiblings)return!0}else if(!(i!==a&&i!==o||t!==r.LinkType.SpouseParents&&t!==r.LinkType.SpouseSiblings))return!0}return!1},t.prototype.isFamNode=function(t){return!!t.family},t.UP_FILTER=a.HierarchyFilter.allRejecting().modify({indiParents:!0,spouseParents:!0,indiSiblings:!0,spouseSiblings:!0}),t.DOWN_FILTER=a.HierarchyFilter.allRejecting().modify({children:!0}),t.ALL_ACCEPTING_FILTER=a.HierarchyFilter.allAccepting(),t}();n.HierarchyCreator=s;var l=function(){function t(t,n){if(!t&&!n)throw new Error("Invalid EntryId");this.id=t||n,this.isFam=!!n}return t.indi=function(n){return new t(n,null)},t.fam=function(n){return new t(null,n)},t}();n.EntryId=l,n.getRootsCount=function(t,n){var e=t.data.indi&&n.getIndi(t.data.indi.id),r=t.data.spouse&&n.getIndi(t.data.spouse.id);return(e?e.getFamiliesAsSpouse().length:0)+(r?r.getFamiliesAsSpouse().length-1:0)}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HierarchyFilter=void 0;var r=function(){function t(t){void 0===t&&(t={}),this.indiParents=!0,this.indiSiblings=!0,this.spouseParents=!0,this.spouseSiblings=!0,this.children=!0,this.modify(t)}return t.allAccepting=function(){return new t},t.allRejecting=function(){return(new t).modify({indiParents:!1,indiSiblings:!1,spouseParents:!1,spouseSiblings:!1,children:!1})},t.prototype.modify=function(t){return Object.assign(this,t),this},t}();n.HierarchyFilter=r},function(t,n,e){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},i=this&&this.__spreadArray||function(t,n){for(var e=0,r=n.length,i=t.length;e<r;e++,i++)t[i]=n[e];return t};Object.defineProperty(n,"__esModule",{value:!0}),n.RelativesChart=void 0;var a=e(26),o=e(16),u=e(17),s=e(7),l=e(6),c=function(){function t(t,n){this.fam=t,this.childId=n}return t.prototype.getId=function(){return this.fam.getId()},t.prototype.getFather=function(){return this.fam.getFather()},t.prototype.getMother=function(){return this.fam.getMother()},t.prototype.getChildren=function(){var t=i([],this.fam.getChildren()),n=t.indexOf(this.childId);return-1!==n&&t.splice(n,1),t},t}(),f=function(){function t(t,n){this.data=t,this.childId=n}return t.prototype.getIndi=function(t){return this.data.getIndi(t)},t.prototype.getFam=function(t){return new c(this.data.getFam(t),this.childId)},t}(),h=function(){function t(t){this.options=t,this.util=new l.ChartUtil(t),this.options.idGenerator=this.options.idGenerator||new o.IdGenerator}return t.prototype.layOutAncestorDescendants=function(t,n){var e=this,i=new Map;return t.eachAfter((function(t){if(t.parent){var n=r({},e.options);n.startFam=t.data.family.id,n.startIndi=void 0;var a=t.id===t.parent.data.spouseParentNodeId?t.parent.data.spouse.id:t.parent.data.indi.id;n.data=new f(n.data,a),n.baseGeneration=(e.options.baseGeneration||0)-t.depth;var o=u.layOutDescendants(n);t.data.id=o[0].id;var s=l.getChartInfoWithoutMargin(o),c=(t.children||[]).map((function(t){return i.get(t.data.id)})).map((function(t){return t.height})).reduce((function(t,n){return t+n+l.V_SPACING}),0),h={descendantNodes:o,width:s.size[0],height:s.size[1]+c,x:s.origin[0],y:s.origin[1]+c};i.set(t.data.id,h)}})),t.each((function(t){if(t.parent){var n=i.get(t.data.id),e=i.get(t.parent.data.id);n.left=e&&!e.middle?e.left:t.parent.data.indiParentNodeId===t.id,n.middle=(!e||e.middle)&&1===t.parent.children.length}})),t.each((function(t){var e=i.get(t.data.id),r=e?e.descendantNodes[0]:n;(t.children||[]).forEach((function(t){i.get(t.data.id).descendantNodes[0].parent=r})),t.data.indiParentNodeId&&t.children&&(r.data.indiParentNodeId=t.children.find((function(n){return n.id===t.data.indiParentNodeId})).data.id),t.data.spouseParentNodeId&&t.children&&(r.data.spouseParentNodeId=t.children.find((function(n){return n.id===t.data.spouseParentNodeId})).data.id)})),t.each((function(t){var e=i.get(t.data.id),r=e?e.descendantNodes[0]:n,a=t.children&&t.children.find((function(n){return n.id===t.data.indiParentNodeId})),o=t.children&&t.children.find((function(n){return n.id===t.data.spouseParentNodeId})),u=r.x,c=r.y,f=r.data.width,h=r.data.height,d=r.data.indi?r.data.indi.width:0,p=r.data.spouse?r.data.spouse.width:0;if(a){var g=(x=(_=i.get(a.data.id)).descendantNodes[0]).data,y=o?i.get(o.data.id).height+l.V_SPACING:0,v=u+_.x-f/2+d/2+(_.left?-_.width-l.H_SPACING:l.H_SPACING),m=c+_.y-h/2-_.height+(_.left?-l.V_SPACING:-y-l.V_SPACING);_.descendantNodes.forEach((function(t){t.x+=v,t.y+=m}));var w=d/2-f/2+g.width/2-(g.indi?g.indi.width:g.spouse.width);_.middle?x.x=0:!e||e.middle?x.x=-f/2-g.width/2+d-l.H_SPACING/2:_.left?x.x=u+s.min([f/2-g.width/2-p/2-l.H_SPACING,w]):x.x=u+s.max([g.width/2-f/2,w])}if(o){g=(x=(_=i.get(o.data.id)).descendantNodes[0]).data;var _,x,b=a?i.get(a.data.id).height+l.V_SPACING:0,A=u+_.x+f/2-p/2+(_.left?-_.width-l.H_SPACING:l.H_SPACING),N=c+_.y-h/2-_.height+(_.left?-b-l.V_SPACING:-l.V_SPACING);_.descendantNodes.forEach((function(t){t.x+=A,t.y+=N}));w=f/2-p/2+g.width/2-(g.indi?g.indi.width:g.spouse.width);_.middle?x.x=0:!e||e.middle?x.x=f/2+g.width/2-p+l.H_SPACING/2:_.left?x.x=u+s.min([f/2-g.width/2,w]):x.x=u+s.max([g.width/2-f/2+d/2+l.H_SPACING,w])}})),Array.from(i.values()).map((function(t){return t.descendantNodes})).reduce((function(t,n){return t.concat(n)}),[])},t.prototype.render=function(){var t=u.layOutDescendants(this.options),n=Object.assign({},this.options,{idGenerator:void 0}),e=a.getAncestorsTree(n),r=this.layOutAncestorDescendants(e,t[0]),i=t.concat(r),o=this.util.renderChart(i),s=l.getChartInfo(i);return this.util.updateSvgDimensions(s),Object.assign(s,{animationPromise:o})},t}();n.RelativesChart=h},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createChart=void 0;var r=e(0),i=e(38);var a=function(){function t(t){this.options=t,this.initialRender=!0}return t.prototype.render=function(t){void 0===t&&(t={});var n=function(t,n,e){var r=new i.JsonDataProvider(t.json),a=t.indiUrl?function(n){return t.indiUrl.replace("${id}",n)}:void 0,o=t.famUrl?function(n){return t.famUrl.replace("${id}",n)}:void 0;n.startIndi||n.startFam||(n.startIndi=t.json.indis[0].id);var u=!e.initialRender&&t.animate;return{data:r,renderer:new t.renderer({data:r,indiHrefFunc:a,famHrefFunc:o,indiCallback:t.indiCallback,famCallback:t.famCallback,horizontal:t.horizontal,colors:t.colors,animate:u,locale:t.locale}),startIndi:n.startIndi,startFam:n.startFam,svgSelector:t.svgSelector||"svg",horizontal:t.horizontal,baseGeneration:n.baseGeneration,animate:u}}(this.options,t,{initialRender:this.initialRender});this.initialRender=!1;var e=new this.options.chartType(n).render();return!1!==this.options.updateSvgSize&&r.select(n.svgSelector).attr("width",e.size[0]).attr("height",e.size[1]),e},t.prototype.setData=function(t){this.options.json=t},t}();n.createChart=function(t){return new a(t)}},function(t,n,e){"use strict";var r,i=this&&this.__extends||(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});Object.defineProperty(n,"__esModule",{value:!0}),n.SimpleRenderer=void 0;var a=e(0),o=e(27);function u(t){var n=a.select("svg").append("g").attr("class","simple node"),e=n.append("text").attr("class","name").text(t).node().getComputedTextLength();return n.remove(),e}function s(t){return[t.getFirstName()||"",t.getLastName()||""].join(" ")}function l(t){var n=t.getBirthDate(),e=n&&n.date&&n.date.year,r=t.getDeathDate(),i=r&&r.date&&r.date.year;return e||i?(e||"")+"  "+(i||""):""}var c=function(t){function n(n){var e=t.call(this,n)||this;return e.options=n,e}return i(n,t),n.prototype.getPreferredIndiSize=function(t){var n=this.options.data.getIndi(t),e=l(n);return[Math.max(u(s(n))+8,u(e),50),e?41:27]},n.prototype.render=function(t,n){var e=this,r=t.merge(n).append("g").attr("class","simple");this.renderIndi(r,(function(t){return t.indi}));var i=r.filter((function(t){return!!t.data.spouse})).append("g").attr("transform",(function(t){return e.options.horizontal?"translate(0, "+t.data.indi.height+")":"translate("+t.data.indi.width+", 0)"}));this.renderIndi(i,(function(t){return t.spouse}))},n.prototype.getCss=function(){return"\n.simple text {\n  font: 12px sans-serif;\n}\n\n.simple .name {\n  font-weight: bold;\n}\n\n.simple rect {\n  fill: #fff;\n  stroke: black;\n}\n\n.link {\n  fill: none;\n  stroke: #000;\n  stroke-width: 1px;\n}\n\n.additional-marriage {\n  stroke-dasharray: 2;\n}"},n.prototype.renderIndi=function(t,n){var e=this,r=this.options.indiHrefFunc?t.append("a").attr("href",(function(t){return e.options.indiHrefFunc(n(t.data).id)})):t;r.append("rect").attr("width",(function(t){return n(t.data).width})).attr("height",(function(t){return n(t.data).height})),r.append("text").attr("text-anchor","middle").attr("class","name").attr("transform",(function(t){return"translate("+n(t.data).width/2+", 17)"})).text((function(t){return s(e.options.data.getIndi(n(t.data).id))})),r.append("text").attr("text-anchor","middle").attr("class","details").attr("transform",(function(t){return"translate("+n(t.data).width/2+", 33)"})).text((function(t){return l(e.options.data.getIndi(n(t.data).id))}))},n}(o.CompositeRenderer);n.SimpleRenderer=c},function(t,n,e){var r=e(142),i=e(143);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var a={insert:"head",singleton:!1};r(i,a);t.exports=i.locals||{}},function(t,n,e){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),o=[];function u(t){for(var n=-1,e=0;e<o.length;e++)if(o[e].identifier===t){n=e;break}return n}function s(t,n){for(var e={},r=[],i=0;i<t.length;i++){var a=t[i],s=n.base?a[0]+n.base:a[0],l=e[s]||0,c="".concat(s," ").concat(l);e[s]=l+1;var f=u(c),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(o[f].references++,o[f].updater(h)):o.push({identifier:c,updater:y(h,n),references:1}),r.push(c)}return r}function l(t){var n=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=e.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){n.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(n);else{var o=a(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}return n}var c,f=(c=[],function(t,n){return c[t]=n,c.filter(Boolean).join("\n")});function h(t,n,e,r){var i=e?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=f(n,i);else{var a=document.createTextNode(i),o=t.childNodes;o[n]&&t.removeChild(o[n]),o.length?t.insertBefore(a,o[n]):t.appendChild(a)}}function d(t,n,e){var r=e.css,i=e.media,a=e.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,g=0;function y(t,n){var e,r,i;if(n.singleton){var a=g++;e=p||(p=l(n)),r=h.bind(null,e,a,!1),i=h.bind(null,e,a,!0)}else e=l(n),r=d.bind(null,e,n),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return r(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;r(t=n)}else i()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=i());var e=s(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<e.length;r++){var i=u(e[r]);o[i].references--}for(var a=s(t,n),l=0;l<e.length;l++){var c=u(e[l]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}e=a}}}},function(t,n,e){"use strict";e.r(n);var r=e(44),i=e.n(r)()((function(t){return t[1]}));i.push([t.i,".container {\n  width: 600px;\n  height: 600px;\n  display: inline-block;\n  overflow: auto;\n}\n\n.node {\n  cursor: pointer;\n}\n",""]),n.default=i},function(t,n,e){"use strict";e.r(n);var r=e(12);function i(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e<n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}var a={value:()=>{}};function o(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new u(r)}function u(t){this._=t}function s(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function l(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function c(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=a,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}u.prototype=o.prototype={constructor:u,on:function(t,n){var e,r=this._,i=s(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<o;)if(e=(t=i[a]).type)r[e]=c(r[e],t.name,n);else if(null==n)for(e in r)r[e]=c(r[e],t.name,null);return this}for(;++a<o;)if((e=(t=i[a]).type)&&(e=l(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new u(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),a=0;a<e;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,e=(r=this._[t]).length;a<e;++a)r[a].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};var f=o;function h(){}var d=function(t){return null==t?h:function(){return this.querySelector(t)}};function p(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function g(){return[]}var y=function(t){return null==t?g:function(){return this.querySelectorAll(t)}};var v=function(t){return function(){return this.matches(t)}};function m(t){return function(n){return n.matches(t)}}var w=Array.prototype.find;function _(){return this.firstElementChild}var x=Array.prototype.filter;function b(){return Array.from(this.children)}var A=function(t){return new Array(t.length)};function N(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}N.prototype={constructor:N,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var M=function(t){return function(){return t}};function S(t,n,e,r,i,a){for(var o,u=0,s=n.length,l=a.length;u<l;++u)(o=n[u])?(o.__data__=a[u],r[u]=o):e[u]=new N(t,a[u]);for(;u<s;++u)(o=n[u])&&(i[u]=o)}function I(t,n,e,r,i,a,o){var u,s,l,c=new Map,f=n.length,h=a.length,d=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(d[u]=l=o.call(s,s.__data__,u,n)+"",c.has(l)?i[u]=s:c.set(l,s));for(u=0;u<h;++u)l=o.call(t,a[u],u,a)+"",(s=c.get(l))?(r[u]=s,s.__data__=a[u],c.delete(l)):e[u]=new N(t,a[u]);for(u=0;u<f;++u)(s=n[u])&&c.get(d[u])===s&&(i[u]=s)}function k(t){return t.__data__}function C(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function E(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var P="http://www.w3.org/1999/xhtml",O={svg:"http://www.w3.org/2000/svg",xhtml:P,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},T=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),O.hasOwnProperty(n)?{space:O[n],local:t}:t};function F(t){return function(){this.removeAttribute(t)}}function j(t){return function(){this.removeAttributeNS(t.space,t.local)}}function L(t,n){return function(){this.setAttribute(t,n)}}function D(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function R(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function z(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var H=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function B(t){return function(){this.style.removeProperty(t)}}function q(t,n,e){return function(){this.style.setProperty(t,n,e)}}function X(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function $(t,n){return t.style.getPropertyValue(n)||H(t).getComputedStyle(t,null).getPropertyValue(n)}function Y(t){return function(){delete this[t]}}function G(t,n){return function(){this[t]=n}}function U(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function V(t){return t.trim().split(/^|\s+/)}function W(t){return t.classList||new J(t)}function J(t){this._node=t,this._names=V(t.getAttribute("class")||"")}function K(t,n){for(var e=W(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Q(t,n){for(var e=W(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Z(t){return function(){K(this,t)}}function tt(t){return function(){Q(this,t)}}function nt(t,n){return function(){(n.apply(this,arguments)?K:Q)(this,t)}}J.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function et(){this.textContent=""}function rt(t){return function(){this.textContent=t}}function it(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function at(){this.innerHTML=""}function ot(t){return function(){this.innerHTML=t}}function ut(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function st(){this.nextSibling&&this.parentNode.appendChild(this)}function lt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ct(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===P&&n.documentElement.namespaceURI===P?n.createElement(t):n.createElementNS(e,t)}}function ft(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var ht=function(t){var n=T(t);return(n.local?ft:ct)(n)};function dt(){return null}function pt(){var t=this.parentNode;t&&t.removeChild(this)}function gt(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function yt(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function vt(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function mt(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,a=n.length;r<a;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function wt(t,n,e){return function(){var r,i=this.__on,a=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var o=0,u=i.length;o<u;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=e),void(r.value=n);this.addEventListener(t.type,a,e),r={type:t.type,name:t.name,value:n,listener:a,options:e},i?i.push(r):this.__on=[r]}}function _t(t,n,e){var r=H(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function xt(t,n){return function(){return _t(this,t,n)}}function bt(t,n){return function(){return _t(this,t,n.apply(this,arguments))}}var At=[null];function Nt(t,n){this._groups=t,this._parents=n}function Mt(){return new Nt([[document.documentElement]],At)}Nt.prototype=Mt.prototype={constructor:Nt,select:function(t){"function"!=typeof t&&(t=d(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o,u=n[i],s=u.length,l=r[i]=new Array(s),c=0;c<s;++c)(a=u[c])&&(o=t.call(a,a.__data__,c,u))&&("__data__"in a&&(o.__data__=a.__data__),l[c]=o);return new Nt(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return p(t.apply(this,arguments))}}(t):y(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o,u=n[a],s=u.length,l=0;l<s;++l)(o=u[l])&&(r.push(t.call(o,o.__data__,l,u)),i.push(o));return new Nt(r,i)},selectChild:function(t){return this.select(null==t?_:function(t){return function(){return w.call(this.children,t)}}("function"==typeof t?t:m(t)))},selectChildren:function(t){return this.selectAll(null==t?b:function(t){return function(){return x.call(this.children,t)}}("function"==typeof t?t:m(t)))},filter:function(t){"function"!=typeof t&&(t=v(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],u=o.length,s=r[i]=[],l=0;l<u;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&s.push(a);return new Nt(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,k);var e=n?I:S,r=this._parents,i=this._groups;"function"!=typeof t&&(t=M(t));for(var a=i.length,o=new Array(a),u=new Array(a),s=new Array(a),l=0;l<a;++l){var c=r[l],f=i[l],h=f.length,d=C(t.call(c,c&&c.__data__,l,r)),p=d.length,g=u[l]=new Array(p),y=o[l]=new Array(p),v=s[l]=new Array(h);e(c,f,g,y,v,d,n);for(var m,w,_=0,x=0;_<p;++_)if(m=g[_]){for(_>=x&&(x=_+1);!(w=y[x])&&++x<p;);m._next=w||null}}return(o=new Nt(o,r))._enter=u,o._exit=s,o},enter:function(){return new Nt(this._enter||this._groups.map(A),this._parents)},exit:function(){return new Nt(this._exit||this._groups.map(A),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?a.remove():e(a),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,o=Math.min(i,a),u=new Array(i),s=0;s<o;++s)for(var l,c=e[s],f=r[s],h=c.length,d=u[s]=new Array(h),p=0;p<h;++p)(l=c[p]||f[p])&&(d[p]=l);for(;s<i;++s)u[s]=e[s];return new Nt(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=E);for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o,u=e[a],s=u.length,l=i[a]=new Array(s),c=0;c<s;++c)(o=u[c])&&(l[c]=o);l.sort(n)}return new Nt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,a=n[e],o=0,u=a.length;o<u;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,n){var e=T(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?j:F:"function"==typeof n?e.local?z:R:e.local?D:L)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?B:"function"==typeof n?X:q)(t,n,null==e?"":e)):$(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Y:"function"==typeof n?U:G)(t,n)):this.node()[t]},classed:function(t,n){var e=V(t+"");if(arguments.length<2){for(var r=W(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?nt:n?Z:tt)(e,n))},text:function(t){return arguments.length?this.each(null==t?et:("function"==typeof t?it:rt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?at:("function"==typeof t?ut:ot)(t)):this.node().innerHTML},raise:function(){return this.each(st)},lower:function(){return this.each(lt)},append:function(t){var n="function"==typeof t?t:ht(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:ht(t),r=null==n?dt:"function"==typeof n?n:d(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(pt)},clone:function(t){return this.select(t?yt:gt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,a=vt(t+""),o=a.length;if(!(arguments.length<2)){for(u=n?wt:mt,r=0;r<o;++r)this.each(u(a[r],n,e));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<o;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?bt:xt)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};var St=Mt,It=function(t){return"string"==typeof t?new Nt([[document.querySelector(t)]],[document.documentElement]):new Nt([[t]],At)};var kt=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function Ct(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Et(){}var Pt="\\s*([+-]?\\d+)\\s*",Ot="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ft=/^#([0-9a-f]{3,8})$/,jt=new RegExp(`^rgb\\(${Pt},${Pt},${Pt}\\)$`),Lt=new RegExp(`^rgb\\(${Tt},${Tt},${Tt}\\)$`),Dt=new RegExp(`^rgba\\(${Pt},${Pt},${Pt},${Ot}\\)$`),Rt=new RegExp(`^rgba\\(${Tt},${Tt},${Tt},${Ot}\\)$`),zt=new RegExp(`^hsl\\(${Ot},${Tt},${Tt}\\)$`),Ht=new RegExp(`^hsla\\(${Ot},${Tt},${Tt},${Ot}\\)$`),Bt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qt(){return this.rgb().formatHex()}function Xt(){return this.rgb().formatRgb()}function $t(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Ft.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Yt(n):3===e?new Wt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Gt(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Gt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=jt.exec(t))?new Wt(n[1],n[2],n[3],1):(n=Lt.exec(t))?new Wt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Dt.exec(t))?Gt(n[1],n[2],n[3],n[4]):(n=Rt.exec(t))?Gt(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=zt.exec(t))?nn(n[1],n[2]/100,n[3]/100,1):(n=Ht.exec(t))?nn(n[1],n[2]/100,n[3]/100,n[4]):Bt.hasOwnProperty(t)?Yt(Bt[t]):"transparent"===t?new Wt(NaN,NaN,NaN,0):null}function Yt(t){return new Wt(t>>16&255,t>>8&255,255&t,1)}function Gt(t,n,e,r){return r<=0&&(t=n=e=NaN),new Wt(t,n,e,r)}function Ut(t){return t instanceof Et||(t=$t(t)),t?new Wt((t=t.rgb()).r,t.g,t.b,t.opacity):new Wt}function Vt(t,n,e,r){return 1===arguments.length?Ut(t):new Wt(t,n,e,null==r?1:r)}function Wt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Jt(){return`#${tn(this.r)}${tn(this.g)}${tn(this.b)}`}function Kt(){const t=Qt(this.opacity);return`${1===t?"rgb(":"rgba("}${Zt(this.r)}, ${Zt(this.g)}, ${Zt(this.b)}${1===t?")":`, ${t})`}`}function Qt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function tn(t){return((t=Zt(t))<16?"0":"")+t.toString(16)}function nn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new rn(t,n,e,r)}function en(t){if(t instanceof rn)return new rn(t.h,t.s,t.l,t.opacity);if(t instanceof Et||(t=$t(t)),!t)return new rn;if(t instanceof rn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,u=a-i,s=(a+i)/2;return u?(o=n===a?(e-r)/u+6*(e<r):e===a?(r-n)/u+2:(n-e)/u+4,u/=s<.5?a+i:2-a-i,o*=60):u=s>0&&s<1?0:o,new rn(o,u,s,t.opacity)}function rn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function an(t){return(t=(t||0)%360)<0?t+360:t}function on(t){return Math.max(0,Math.min(1,t||0))}function un(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function sn(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}kt(Et,$t,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qt,formatHex:qt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return en(this).formatHsl()},formatRgb:Xt,toString:Xt}),kt(Wt,Vt,Ct(Et,{brighter(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Wt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new Wt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wt(Zt(this.r),Zt(this.g),Zt(this.b),Qt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jt,formatHex:Jt,formatHex8:function(){return`#${tn(this.r)}${tn(this.g)}${tn(this.b)}${tn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Kt,toString:Kt})),kt(rn,(function(t,n,e,r){return 1===arguments.length?en(t):new rn(t,n,e,null==r?1:r)}),Ct(Et,{brighter(t){return t=null==t?1/.7:Math.pow(1/.7,t),new rn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new rn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Wt(un(t>=240?t-240:t+120,i,r),un(t,i,r),un(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new rn(an(this.h),on(this.s),on(this.l),Qt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qt(this.opacity);return`${1===t?"hsl(":"hsla("}${an(this.h)}, ${100*on(this.s)}%, ${100*on(this.l)}%${1===t?")":`, ${t})`}`}}));var ln=t=>()=>t;function cn(t,n){return function(e){return t+e*n}}function fn(t){return 1==(t=+t)?hn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):ln(isNaN(n)?e:n)}}function hn(t,n){var e=n-t;return e?cn(t,e):ln(isNaN(t)?n:t)}var dn=function t(n){var e=fn(n);function r(t,n){var r=e((t=Vt(t)).r,(n=Vt(n)).r),i=e(t.g,n.g),a=e(t.b,n.b),o=hn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=a(n),t.opacity=o(n),t+""}}return r.gamma=t,r}(1);function pn(t){return function(n){var e,r,i=n.length,a=new Array(i),o=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=Vt(n[e]),a[e]=r.r||0,o[e]=r.g||0,u[e]=r.b||0;return a=t(a),o=t(o),u=t(u),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=u(t),r+""}}}pn((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,u=r<n-1?t[r+2]:2*a-i;return sn((e-r/n)*n,o,i,a,u)}})),pn((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],a=t[r%n],o=t[(r+1)%n],u=t[(r+2)%n];return sn((e-r/n)*n,i,a,o,u)}}));var gn=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},yn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vn=new RegExp(yn.source,"g");var mn,wn,_n=function(t,n){var e,r,i,a=yn.lastIndex=vn.lastIndex=0,o=-1,u=[],s=[];for(t+="",n+="";(e=yn.exec(t))&&(r=vn.exec(n));)(i=r.index)>a&&(i=n.slice(a,i),u[o]?u[o]+=i:u[++o]=i),(e=e[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:gn(e,r)})),a=vn.lastIndex;return a<n.length&&(i=n.slice(a),u[o]?u[o]+=i:u[++o]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})},xn=0,bn=0,An=0,Nn=0,Mn=0,Sn=0,In="object"==typeof performance&&performance.now?performance:Date,kn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Cn(){return Mn||(kn(En),Mn=In.now()+Sn)}function En(){Mn=0}function Pn(){this._call=this._time=this._next=null}function On(t,n,e){var r=new Pn;return r.restart(t,n,e),r}function Tn(){Mn=(Nn=In.now())+Sn,xn=bn=0;try{!function(){Cn(),++xn;for(var t,n=mn;n;)(t=Mn-n._time)>=0&&n._call.call(void 0,t),n=n._next;--xn}()}finally{xn=0,function(){var t,n,e=mn,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:mn=n);wn=t,jn(r)}(),Mn=0}}function Fn(){var t=In.now(),n=t-Nn;n>1e3&&(Sn-=n,Nn=t)}function jn(t){xn||(bn&&(bn=clearTimeout(bn)),t-Mn>24?(t<1/0&&(bn=setTimeout(Tn,t-In.now()-Sn)),An&&(An=clearInterval(An))):(An||(Nn=In.now(),An=setInterval(Fn,1e3)),xn=1,kn(Tn)))}Pn.prototype=On.prototype={constructor:Pn,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Cn():+e)+(null==n?0:+n),this._next||wn===this||(wn?wn._next=this:mn=this,wn=this),this._call=t,this._time=e,jn()},stop:function(){this._call&&(this._call=null,this._time=1/0,jn())}};var Ln=function(t,n,e){var r=new Pn;return n=null==n?0:+n,r.restart(e=>{r.stop(),t(e+n)},n,e),r},Dn=f("start","end","cancel","interrupt"),Rn=[],zn=function(t,n,e,r,i,a){var o=t.__transition;if(o){if(e in o)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function a(s){var l,c,f,h;if(1!==e.state)return u();for(l in i)if((h=i[l]).name===e.name){if(3===h.state)return Ln(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if(Ln((function(){3===e.state&&(e.state=4,e.timer.restart(o,e.delay,e.time),o(s))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),l=0,c=-1;l<f;++l)(h=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=h);r.length=c+1}}function o(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=On((function(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:Dn,tween:Rn,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})};function Hn(t,n){var e=qn(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Bn(t,n){var e=qn(t,n);if(e.state>3)throw new Error("too late; already running");return e}function qn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var Xn,$n=function(t,n){var e,r,i,a=t.__transition,o=!0;if(a){for(i in n=null==n?null:n+"",a)(e=a[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete a[i]):o=!1;o&&delete t.__transition}},Yn=180/Math.PI,Gn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Un=function(t,n,e,r,i,a){var o,u,s;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*Yn,skewX:Math.atan(s)*Yn,scaleX:o,scaleY:u}};function Vn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var u=[],s=[];return a=t(a),o=t(o),function(t,r,i,a,o,u){if(t!==i||r!==a){var s=o.push("translate(",null,n,null,e);u.push({i:s-4,x:gn(t,i)},{i:s-2,x:gn(r,a)})}else(i||a)&&o.push("translate("+i+n+a+e)}(a.translateX,a.translateY,o.translateX,o.translateY,u,s),function(t,n,e,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:e.push(i(e)+"rotate(",null,r)-2,x:gn(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(a.rotate,o.rotate,u,s),function(t,n,e,a){t!==n?a.push({i:e.push(i(e)+"skewX(",null,r)-2,x:gn(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(a.skewX,o.skewX,u,s),function(t,n,e,r,a,o){if(t!==e||n!==r){var u=a.push(i(a)+"scale(",null,",",null,")");o.push({i:u-4,x:gn(t,e)},{i:u-2,x:gn(n,r)})}else 1===e&&1===r||a.push(i(a)+"scale("+e+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,u,s),a=o=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var Wn=Vn((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Gn:Un(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),Jn=Vn((function(t){return null==t?Gn:(Xn||(Xn=document.createElementNS("http://www.w3.org/2000/svg","g")),Xn.setAttribute("transform",t),(t=Xn.transform.baseVal.consolidate())?(t=t.matrix,Un(t.a,t.b,t.c,t.d,t.e,t.f)):Gn)}),", ",")",")");function Kn(t,n){var e,r;return function(){var i=Bn(this,t),a=i.tween;if(a!==e)for(var o=0,u=(r=e=a).length;o<u;++o)if(r[o].name===n){(r=r.slice()).splice(o,1);break}i.tween=r}}function Qn(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var a=Bn(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:n,value:e},s=0,l=i.length;s<l;++s)if(i[s].name===n){i[s]=u;break}s===l&&i.push(u)}a.tween=i}}function Zn(t,n,e){var r=t._id;return t.each((function(){var t=Bn(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return qn(t,r).value[n]}}var te=function(t,n){var e;return("number"==typeof n?gn:n instanceof $t?dn:(e=$t(n))?(n=e,dn):_n)(t,n)};function ne(t){return function(){this.removeAttribute(t)}}function ee(t){return function(){this.removeAttributeNS(t.space,t.local)}}function re(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=n(r=o,e)}}function ie(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=n(r=o,e)}}function ae(t,n,e){var r,i,a;return function(){var o,u,s=e(this);if(null!=s)return(o=this.getAttribute(t))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=n(r=o,s));this.removeAttribute(t)}}function oe(t,n,e){var r,i,a;return function(){var o,u,s=e(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=n(r=o,s));this.removeAttributeNS(t.space,t.local)}}function ue(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function se(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function le(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&se(t,i)),e}return i._value=n,i}function ce(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&ue(t,i)),e}return i._value=n,i}function fe(t,n){return function(){Hn(this,t).delay=+n.apply(this,arguments)}}function he(t,n){return n=+n,function(){Hn(this,t).delay=n}}function de(t,n){return function(){Bn(this,t).duration=+n.apply(this,arguments)}}function pe(t,n){return n=+n,function(){Bn(this,t).duration=n}}function ge(t,n){if("function"!=typeof n)throw new Error;return function(){Bn(this,t).ease=n}}function ye(t,n,e){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Hn:Bn;return function(){var o=a(this,t),u=o.on;u!==r&&(i=(r=u).copy()).on(n,e),o.on=i}}var ve=St.prototype.constructor;function me(t){return function(){this.style.removeProperty(t)}}function we(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function _e(t,n,e){var r,i;function a(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&we(t,a,e)),r}return a._value=n,a}function xe(t){return function(n){this.textContent=t.call(this,n)}}function be(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&xe(r)),n}return r._value=t,r}var Ae=0;function Ne(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Me(){return++Ae}var Se=St.prototype;Ne.prototype=function(t){return St().transition(t)}.prototype={constructor:Ne,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=d(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u,s,l=r[o],c=l.length,f=a[o]=new Array(c),h=0;h<c;++h)(u=l[h])&&(s=t.call(u,u.__data__,h,l))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,zn(f[h],n,e,h,f,qn(u,e)));return new Ne(a,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=y(t));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var s,l=r[u],c=l.length,f=0;f<c;++f)if(s=l[f]){for(var h,d=t.call(s,s.__data__,f,l),p=qn(s,e),g=0,v=d.length;g<v;++g)(h=d[g])&&zn(h,n,e,g,d,p);a.push(d),o.push(s)}return new Ne(a,o,n,e)},selectChild:Se.selectChild,selectChildren:Se.selectChildren,filter:function(t){"function"!=typeof t&&(t=v(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],u=o.length,s=r[i]=[],l=0;l<u;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&s.push(a);return new Ne(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var s,l=n[u],c=e[u],f=l.length,h=o[u]=new Array(f),d=0;d<f;++d)(s=l[d]||c[d])&&(h[d]=s);for(;u<r;++u)o[u]=n[u];return new Ne(o,this._parents,this._name,this._id)},selection:function(){return new ve(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Me(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)if(o=u[l]){var c=qn(o,n);zn(o,t,e,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ne(r,this._parents,t,e)},call:Se.call,nodes:Se.nodes,node:Se.node,size:Se.size,empty:Se.empty,each:Se.each,on:function(t,n){var e=this._id;return arguments.length<2?qn(this.node(),e).on.on(t):this.each(ye(e,t,n))},attr:function(t,n){var e=T(t),r="transform"===e?Jn:te;return this.attrTween(t,"function"==typeof n?(e.local?oe:ae)(e,r,Zn(this,"attr."+t,n)):null==n?(e.local?ee:ne)(e):(e.local?ie:re)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=T(t);return this.tween(e,(r.local?le:ce)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Wn:te;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var a=$(this,t),o=(this.style.removeProperty(t),$(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}(t,r)).on("end.style."+t,me(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,a;return function(){var o=$(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=$(this,t)),o===s?null:o===r&&s===i?a:(i=s,a=n(r=o,u))}}(t,r,Zn(this,"style."+t,n))).each(function(t,n){var e,r,i,a,o="style."+n,u="end."+o;return function(){var s=Bn(this,t),l=s.on,c=null==s.value[o]?a||(a=me(n)):void 0;l===e&&i===c||(r=(e=l).copy()).on(u,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,a=e+"";return function(){var o=$(this,t);return o===a?null:o===r?i:i=n(r=o,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,_e(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Zn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,be(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=qn(this.node(),e).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==n?Kn:Qn)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?fe:he)(n,t)):qn(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?de:pe)(n,t)):qn(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(ge(n,t)):qn(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Bn(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(a,o){var u={value:o},s={value:function(){0==--i&&a()}};e.each((function(){var e=Bn(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n})),0===i&&a()}))},[Symbol.iterator]:Se[Symbol.iterator]};var Ie={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function ke(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}St.prototype.interrupt=function(t){return this.each((function(){$n(this,t)}))},St.prototype.transition=function(t){var n,e;t instanceof Ne?(n=t._id,t=t._name):(n=Me(),(e=Ie).time=Cn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)(o=u[l])&&zn(o,t,n,l,u,e||ke(o,n));return new Ne(r,this._parents,t,n)};const{abs:Ce,max:Ee,min:Pe}=Math;function Oe(t){return[+t[0],+t[1]]}function Te(t){return[Oe(t[0]),Oe(t[1])]}["w","e"].map(Fe),["n","s"].map(Fe),["n","w","e","s","nw","ne","sw","se"].map(Fe);function Fe(t){return{type:t}}function je(t){return((t=Math.exp(t))+1/t)/2}(function t(n,e,r){function i(t,i){var a,o,u=t[0],s=t[1],l=t[2],c=i[0],f=i[1],h=i[2],d=c-u,p=f-s,g=d*d+p*p;if(g<1e-12)o=Math.log(h/l)/n,a=function(t){return[u+t*d,s+t*p,l*Math.exp(n*t*o)]};else{var y=Math.sqrt(g),v=(h*h-l*l+r*g)/(2*l*e*y),m=(h*h-l*l-r*g)/(2*h*e*y),w=Math.log(Math.sqrt(v*v+1)-v),_=Math.log(Math.sqrt(m*m+1)-m);o=(_-w)/n,a=function(t){var r,i=t*o,a=je(w),c=l/(e*y)*(a*(r=n*i+w,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(w));return[u+c*d,s+c*p,l*a/je(n*i+w)]}}return a.duration=1e3*o*n/Math.SQRT2,a}return i.rho=function(n){var e=Math.max(.001,+n),r=e*e;return t(e,r,r*r)},i})(Math.SQRT2,2,4);function Le(t,n,e){this.k=t,this.x=n,this.y=e}Le.prototype={constructor:Le,scale:function(t){return 1===t?this:new Le(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Le(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Le(1,0,0);Le.prototype;e(141);var De=e(45);function Re(t,n){const e=document.location.hash.split("#"),r=t.render({startIndi:n?n.id:e[1],baseGeneration:n?n.generation:parseInt(e[2],10)}),a=It("svg"),o=a.node().parentElement,u=!n,s=o.clientWidth/2-r.origin[0],l=o.clientHeight/2-r.origin[1],c=a.transition().delay(200).duration(500);var f,h;(u?a:c).attr("transform",`translate(${i([s,0])}, ${i([l,0])})`).attr("width",r.size[0]).attr("height",r.size[1]),u?(o.scrollLeft=-s,o.scrollTop=-l):(c.tween("scrollLeft",(h=-s,()=>{const t=gn(o.scrollLeft,h);return n=>{o.scrollLeft=t(n)}})).tween("scrollTop",(f=-l,()=>{const t=gn(o.scrollTop,f);return n=>{o.scrollTop=t(n)}})),document.location.hash=n.id+"#"+n.generation)}const ze=r.gedcomEntriesToJson(De),He=r.createChart({json:ze,chartType:r.HourglassChart,renderer:r.DetailedRenderer,indiCallback:t=>Re(He,t),animate:!0,updateSvgSize:!1});Re(He)},function(t,n,e){"use strict";function r(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}e.r(n),e.d(n,"flextree",(function(){return h}));function i(t,n){var e,r,i,o,l,c=new s(t),f=+t.value&&(c.value=t.value),h=[c];for(null==n&&(n=a);e=h.pop();)if(f&&(e.value=+e.data.value),(i=n(e.data))&&(l=i.length))for(e.children=new Array(l),o=l-1;o>=0;--o)h.push(r=e.children[o]=new s(i[o])),r.parent=e,r.depth=e.depth+1;return c.eachBefore(u)}function a(t){return t.children}function o(t){t.data=t.data.data}function u(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function s(t){this.data=t,this.depth=this.height=0,this.parent=null}s.prototype=i.prototype={constructor:s,count:function(){return this.eachAfter(r)},each:function(t){var n,e,r,i,a=this,o=[a];do{for(n=o.reverse(),o=[];a=n.pop();)if(t(a),e=a.children)for(r=0,i=e.length;r<i;++r)o.push(e[r])}while(o.length);return this},eachAfter:function(t){for(var n,e,r,i=this,a=[i],o=[];i=a.pop();)if(o.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)a.push(n[e]);for(;i=o.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},sum:function(t){return this.eachAfter((function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e}))},sort:function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;t=e.pop(),n=r.pop();for(;t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each((function(n){t.push(n)})),t},leaves:function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t},links:function(){var t=this,n=[];return t.each((function(e){e!==t&&n.push({source:e.parent,target:e})})),n},copy:function(){return i(this).eachBefore(o)}};var l=e(43);const{version:c}=l,f=Object.freeze({children:t=>t.children,nodeSize:t=>t.data.size,spacing:0});function h(t){const n=Object.assign({},f,t);function e(t){const e=n[t];return"function"==typeof e?e:()=>e}function r(t){const n=o(function(){const t=a(),n=e("nodeSize"),r=e("spacing");return class extends t{constructor(t){super(t),Object.assign(this,{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:this,lExtRelX:0,lThr:null,rExt:this,rExtRelX:0,rThr:null})}get size(){return n(this.data)}spacing(t){return r(this.data,t.data)}get x(){return this.data.x}set x(t){this.data.x=t}get y(){return this.data.y}set y(t){this.data.y=t}update(){return d(this),p(this),this}}}(),t,t=>t.children);return n.update(),n.data}function a(){const t=e("nodeSize"),n=e("spacing");return class e extends i.prototype.constructor{constructor(t){super(t)}copy(){const t=o(this.constructor,this,t=>t.children);return t.each(t=>t.data=t.data.data),t}get size(){return t(this)}spacing(t){return n(this,t)}get nodes(){return this.descendants()}get xSize(){return this.size[0]}get ySize(){return this.size[1]}get top(){return this.y}get bottom(){return this.y+this.ySize}get left(){return this.x-this.xSize/2}get right(){return this.x+this.xSize/2}get root(){const t=this.ancestors();return t[t.length-1]}get numChildren(){return this.hasChildren?this.children.length:0}get hasChildren(){return!this.noChildren}get noChildren(){return null===this.children}get firstChild(){return this.hasChildren?this.children[0]:null}get lastChild(){return this.hasChildren?this.children[this.numChildren-1]:null}get extents(){return(this.children||[]).reduce((t,n)=>e.maxExtents(t,n.extents),this.nodeExtents)}get nodeExtents(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}static maxExtents(t,n){return{top:Math.min(t.top,n.top),bottom:Math.max(t.bottom,n.bottom),left:Math.min(t.left,n.left),right:Math.max(t.right,n.right)}}}}function o(t,n,e){const r=(n,i)=>{const a=new t(n);Object.assign(a,{parent:i,depth:null===i?0:i.depth+1,height:0,length:1});const o=e(n)||[];return a.children=0===o.length?null:o.map(t=>r(t,a)),a.children&&Object.assign(a,a.children.reduce((t,n)=>({height:Math.max(t.height,n.height+1),length:t.length+n.length}),a)),a};return r(n,null)}return Object.assign(r,{nodeSize(t){return arguments.length?(n.nodeSize=t,r):n.nodeSize},spacing(t){return arguments.length?(n.spacing=t,r):n.spacing},children(t){return arguments.length?(n.children=t,r):n.children},hierarchy(t,e){const r=void 0===e?n.children:e;return o(a(),t,r)},dump(t){const n=e("nodeSize"),r=t=>e=>{const i=t+"  ",a=t+"    ",{x:o,y:u}=e,s=n(e),l=e.children||[],c=0===l.length?" ":`,${i}children: [${a}${l.map(r(a)).join(a)}${i}],${t}`;return`{ size: [${s.join(", ")}],${i}x: ${o}, y: ${u}${c}},`};return r("\n")(t)}}),r}h.version=c;const d=(t,n=0)=>(t.y=n,(t.children||[]).reduce((n,e)=>{const[r,i]=n;d(e,t.y+t.ySize);const a=(0===r?e.lExt:e.rExt).bottom;0!==r&&y(t,r,i);return[r+1,N(a,r,i)]},[0,null]),g(t),A(t),t),p=(t,n,e)=>{void 0===n&&(n=-t.relX-t.prelim,e=0);const r=n+t.relX;return t.relX=r+t.prelim-e,t.prelim=0,t.x=e+t.relX,(t.children||[]).forEach(n=>p(n,r,t.x)),t},g=t=>{(t.children||[]).reduce((t,n)=>{const[e,r]=t,i=e+n.shift,a=r+i+n.change;return n.relX+=a,[i,a]},[0,0])},y=(t,n,e)=>{const r=t.children[n-1],i=t.children[n];let a=r,o=r.relX,u=i,s=i.relX,l=!0;for(;a&&u;){a.bottom>e.lowY&&(e=e.next);const r=o+a.prelim-(s+u.prelim)+a.xSize/2+u.xSize/2+a.spacing(u);(r>0||r<0&&l)&&(s+=r,v(i,r),m(t,n,e.index,r)),l=!1;const c=a.bottom,f=u.bottom;c<=f&&(a=_(a),a&&(o+=a.relX)),c>=f&&(u=w(u),u&&(s+=u.relX))}!a&&u?x(t,n,u,s):a&&!u&&b(t,n,a,o)},v=(t,n)=>{t.relX+=n,t.lExtRelX+=n,t.rExtRelX+=n},m=(t,n,e,r)=>{const i=t.children[n],a=n-e;if(a>1){const n=r/a;t.children[e+1].shift+=n,i.shift-=n,i.change-=r-n}},w=t=>t.hasChildren?t.firstChild:t.lThr,_=t=>t.hasChildren?t.lastChild:t.rThr,x=(t,n,e,r)=>{const i=t.firstChild,a=i.lExt,o=t.children[n];a.lThr=e;const u=r-e.relX-i.lExtRelX;a.relX+=u,a.prelim-=u,i.lExt=o.lExt,i.lExtRelX=o.lExtRelX},b=(t,n,e,r)=>{const i=t.children[n],a=i.rExt,o=t.children[n-1];a.rThr=e;const u=r-e.relX-i.rExtRelX;a.relX+=u,a.prelim-=u,i.rExt=o.rExt,i.rExtRelX=o.rExtRelX},A=t=>{if(t.hasChildren){const n=t.firstChild,e=t.lastChild,r=(n.prelim+n.relX-n.xSize/2+e.relX+e.prelim+e.xSize/2)/2;Object.assign(t,{prelim:r,lExt:n.lExt,lExtRelX:n.lExtRelX,rExt:e.rExt,rExtRelX:e.rExtRelX})}},N=(t,n,e)=>{for(;null!==e&&t>=e.lowY;)e=e.next;return{lowY:t,index:n,next:e}}}]);</script></body></head></html>